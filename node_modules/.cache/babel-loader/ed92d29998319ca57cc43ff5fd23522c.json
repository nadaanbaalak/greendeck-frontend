{"ast":null,"code":"function _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\nimport { getEventPosition, getChromaColor } from '../utils';\nimport { DEFAULT_VISUALIZATION_COLOR } from '../../../services';\nvar EUI_THUMB_SIZE = 16; // Same as $euiRangeThumbHeight & $euiRangeThumbWidth\n\nexport var removeStop = function removeStop(colorStops, index) {\n  if (colorStops.length === 1) {\n    return colorStops;\n  }\n\n  return [].concat(_toConsumableArray(colorStops.slice(0, index)), _toConsumableArray(colorStops.slice(index + 1)));\n};\nexport var addDefinedStop = function addDefinedStop(colorStops, stop) {\n  var color = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_VISUALIZATION_COLOR;\n  var newStop = {\n    stop: stop,\n    color: color\n  };\n  return [].concat(_toConsumableArray(colorStops), [newStop]);\n};\nexport var addStop = function addStop(colorStops) {\n  var color = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_VISUALIZATION_COLOR;\n  var max = arguments.length > 2 ? arguments[2] : undefined;\n  var index = colorStops.length ? colorStops.length - 1 : 0;\n  var stops = colorStops.map(function (el) {\n    return el.stop;\n  });\n  var currentStop = stops[index] != null ? stops[index] : max;\n  var delta = 1;\n\n  if (index !== 0) {\n    var prevStop = stops[index - 1];\n    delta = currentStop - prevStop;\n  }\n\n  var stop = currentStop + delta;\n\n  if (stop > max) {\n    stop = max;\n  } // We've reached the max, so start working backwards\n\n\n  while (stops.indexOf(stop) > -1) {\n    stop--;\n  }\n\n  var newStop = {\n    stop: stop,\n    color: color\n  };\n  return [].concat(_toConsumableArray(colorStops.slice(0, index + 1)), [newStop], _toConsumableArray(colorStops.slice(index + 1)));\n};\nexport var isColorInvalid = function isColorInvalid(color) {\n  var showAlpha = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  return getChromaColor(color, showAlpha) == null || color === '';\n};\nexport var isStopInvalid = function isStopInvalid(stop) {\n  return stop == null || isNaN(stop);\n};\nexport var isInvalid = function isInvalid(colorStops) {\n  var showAlpha = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  return colorStops.some(function (colorStop) {\n    return isColorInvalid(colorStop.color, showAlpha) || isStopInvalid(colorStop.stop);\n  });\n};\nexport var calculateScale = function calculateScale(trackWidth) {\n  var thumbToTrackRatio = EUI_THUMB_SIZE / trackWidth;\n  return (1 - thumbToTrackRatio) * 100;\n};\nexport var getStopFromMouseLocation = function getStopFromMouseLocation(location, ref, min, max) {\n  var box = getEventPosition(location, ref);\n  return Math.round(box.left / box.width * (max - min) + min);\n};\nexport var getPositionFromStop = function getPositionFromStop(stop, ref, min, max) {\n  // For wide implementations, integer percentages can be visually off.\n  // Use 1 decimal place for more accuracy\n  return parseFloat(((stop - min) / (max - min) * calculateScale(ref ? ref.clientWidth : 100)).toFixed(1));\n};","map":{"version":3,"sources":["/home/nadaanbaalak/greendeck/client/node_modules/@elastic/eui/es/components/color_picker/color_stops/utils.js"],"names":["_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","Object","prototype","toString","call","Array","from","isArray","i","arr2","length","getEventPosition","getChromaColor","DEFAULT_VISUALIZATION_COLOR","EUI_THUMB_SIZE","removeStop","colorStops","index","concat","slice","addDefinedStop","stop","color","arguments","undefined","newStop","addStop","max","stops","map","el","currentStop","delta","prevStop","indexOf","isColorInvalid","showAlpha","isStopInvalid","isNaN","isInvalid","some","colorStop","calculateScale","trackWidth","thumbToTrackRatio","getStopFromMouseLocation","location","ref","min","box","Math","round","left","width","getPositionFromStop","parseFloat","clientWidth","toFixed"],"mappings":"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","sourcesContent":["function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { getEventPosition, getChromaColor } from '../utils';\nimport { DEFAULT_VISUALIZATION_COLOR } from '../../../services';\nvar EUI_THUMB_SIZE = 16; // Same as $euiRangeThumbHeight & $euiRangeThumbWidth\n\nexport var removeStop = function removeStop(colorStops, index) {\n  if (colorStops.length === 1) {\n    return colorStops;\n  }\n\n  return [].concat(_toConsumableArray(colorStops.slice(0, index)), _toConsumableArray(colorStops.slice(index + 1)));\n};\nexport var addDefinedStop = function addDefinedStop(colorStops, stop) {\n  var color = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_VISUALIZATION_COLOR;\n  var newStop = {\n    stop: stop,\n    color: color\n  };\n  return [].concat(_toConsumableArray(colorStops), [newStop]);\n};\nexport var addStop = function addStop(colorStops) {\n  var color = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_VISUALIZATION_COLOR;\n  var max = arguments.length > 2 ? arguments[2] : undefined;\n  var index = colorStops.length ? colorStops.length - 1 : 0;\n  var stops = colorStops.map(function (el) {\n    return el.stop;\n  });\n  var currentStop = stops[index] != null ? stops[index] : max;\n  var delta = 1;\n\n  if (index !== 0) {\n    var prevStop = stops[index - 1];\n    delta = currentStop - prevStop;\n  }\n\n  var stop = currentStop + delta;\n\n  if (stop > max) {\n    stop = max;\n  } // We've reached the max, so start working backwards\n\n\n  while (stops.indexOf(stop) > -1) {\n    stop--;\n  }\n\n  var newStop = {\n    stop: stop,\n    color: color\n  };\n  return [].concat(_toConsumableArray(colorStops.slice(0, index + 1)), [newStop], _toConsumableArray(colorStops.slice(index + 1)));\n};\nexport var isColorInvalid = function isColorInvalid(color) {\n  var showAlpha = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  return getChromaColor(color, showAlpha) == null || color === '';\n};\nexport var isStopInvalid = function isStopInvalid(stop) {\n  return stop == null || isNaN(stop);\n};\nexport var isInvalid = function isInvalid(colorStops) {\n  var showAlpha = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  return colorStops.some(function (colorStop) {\n    return isColorInvalid(colorStop.color, showAlpha) || isStopInvalid(colorStop.stop);\n  });\n};\nexport var calculateScale = function calculateScale(trackWidth) {\n  var thumbToTrackRatio = EUI_THUMB_SIZE / trackWidth;\n  return (1 - thumbToTrackRatio) * 100;\n};\nexport var getStopFromMouseLocation = function getStopFromMouseLocation(location, ref, min, max) {\n  var box = getEventPosition(location, ref);\n  return Math.round(box.left / box.width * (max - min) + min);\n};\nexport var getPositionFromStop = function getPositionFromStop(stop, ref, min, max) {\n  // For wide implementations, integer percentages can be visually off.\n  // Use 1 decimal place for more accuracy\n  return parseFloat(((stop - min) / (max - min) * calculateScale(ref ? ref.clientWidth : 100)).toFixed(1));\n};"]},"metadata":{},"sourceType":"module"}