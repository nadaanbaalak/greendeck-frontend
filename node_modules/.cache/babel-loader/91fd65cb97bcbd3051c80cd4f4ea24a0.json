{"ast":null,"code":"function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\nimport React, { Component, memo, createRef } from 'react';\nimport PropTypes from \"prop-types\";\nimport classNames from 'classnames';\nimport tabbable from 'tabbable';\nimport { EuiPopover } from '../popover';\nimport { EuiScreenReaderOnly } from '../accessibility';\nimport { EuiI18n } from '../i18n';\nimport { EuiButtonIcon } from '../button';\nimport { EuiMutationObserver } from '../observer/mutation_observer';\nimport { DataGridContext } from './data_grid_context';\nimport { EuiFocusTrap } from '../focus_trap';\nvar EuiDataGridCellContent = memo(function (props) {\n  var renderCellValue = props.renderCellValue,\n      rest = _objectWithoutProperties(props, [\"renderCellValue\"]); // React is more permissible than the TS types indicate\n\n\n  var CellElement = renderCellValue;\n  return React.createElement(CellElement, _extends({\n    isDetails: false,\n    \"data-test-subj\": \"cell-content\"\n  }, rest));\n});\nEuiDataGridCellContent.propTypes = {\n  rowIndex: PropTypes.number.isRequired,\n  visibleRowIndex: PropTypes.number.isRequired,\n  colIndex: PropTypes.number.isRequired,\n  columnId: PropTypes.string.isRequired,\n  columnType: PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.oneOf([null])]),\n  isExpandable: PropTypes.bool.isRequired,\n  className: PropTypes.string,\n  renderCellValue: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.func.isRequired]).isRequired,\n  setCellProps: PropTypes.func.isRequired,\n  isExpanded: PropTypes.bool.isRequired\n};\nexport var EuiDataGridCell = /*#__PURE__*/function (_Component) {\n  _inherits(EuiDataGridCell, _Component);\n\n  function EuiDataGridCell() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, EuiDataGridCell);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(EuiDataGridCell)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"cellRef\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"popoverPanelRef\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"cellContentsRef\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      cellProps: {},\n      popoverIsOpen: false,\n      isEntered: false,\n      disableCellTabIndex: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unsubscribeCell\", function () {});\n\n    _defineProperty(_assertThisInitialized(_this), \"getInteractables\", function () {\n      var tabbingRef = _this.cellContentsRef;\n\n      if (tabbingRef) {\n        return tabbingRef.querySelectorAll('[data-datagrid-interactable=true]');\n      }\n\n      return [];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateFocus\", function () {\n      var cell = _this.cellRef.current;\n      var isFocused = _this.props.isFocused;\n\n      if (cell && isFocused) {\n        // only update focus if we are not already focused on something in this cell\n        var element = document.activeElement;\n\n        while (element != null && element !== cell) {\n          element = element.parentElement;\n        }\n\n        var doFocusUpdate = element !== cell;\n\n        if (doFocusUpdate) {\n          var interactables = _this.getInteractables();\n\n          if (_this.props.isExpandable === false && interactables.length === 1) {\n            // Only one element can be interacted with\n            interactables[0].focus();\n          } else {\n            cell.focus();\n          }\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setCellProps\", function (cellProps) {\n      _this.setState({\n        cellProps: cellProps\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setCellContentsRef\", function (ref) {\n      _this.cellContentsRef = ref;\n\n      _this.preventTabbing();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function () {\n      var _this$props = _this.props,\n          onCellFocus = _this$props.onCellFocus,\n          colIndex = _this$props.colIndex,\n          visibleRowIndex = _this$props.visibleRowIndex,\n          isExpandable = _this$props.isExpandable;\n      onCellFocus([colIndex, visibleRowIndex]);\n\n      var interactables = _this.getInteractables();\n\n      if (interactables.length === 1 && isExpandable === false) {\n        interactables[0].focus();\n\n        _this.setState({\n          disableCellTabIndex: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBlur\", function () {\n      _this.setState({\n        disableCellTabIndex: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"preventTabbing\", function () {\n      if (_this.cellContentsRef) {\n        var tabbables = tabbable(_this.cellContentsRef);\n\n        for (var i = 0; i < tabbables.length; i++) {\n          var element = tabbables[i];\n          element.setAttribute('tabIndex', '-1');\n          element.setAttribute('data-datagrid-interactable', 'true');\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"enableTabbing\", function () {\n      if (_this.cellContentsRef) {\n        var interactables = _this.getInteractables();\n\n        for (var i = 0; i < interactables.length; i++) {\n          var element = interactables[i];\n          element.removeAttribute('tabIndex');\n        }\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(EuiDataGridCell, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.unsubscribeCell = this.context.onFocusUpdate([this.props.colIndex, this.props.visibleRowIndex], this.updateFocus);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.unsubscribeCell) {\n        this.unsubscribeCell();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var didFocusChange = prevProps.isFocused !== this.props.isFocused;\n\n      if (didFocusChange) {\n        this.updateFocus();\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      if (nextProps.rowIndex !== this.props.rowIndex) return true;\n      if (nextProps.visibleRowIndex !== this.props.visibleRowIndex) return true;\n      if (nextProps.colIndex !== this.props.colIndex) return true;\n      if (nextProps.columnId !== this.props.columnId) return true;\n      if (nextProps.columnType !== this.props.columnType) return true;\n      if (nextProps.width !== this.props.width) return true;\n      if (nextProps.renderCellValue !== this.props.renderCellValue) return true;\n      if (nextProps.onCellFocus !== this.props.onCellFocus) return true;\n      if (nextProps.isFocused !== this.props.isFocused) return true;\n      if (nextProps.interactiveCellId !== this.props.interactiveCellId) return true;\n      if (nextProps.popoverContent !== this.props.popoverContent) return true;\n      if (nextState.cellProps !== this.state.cellProps) return true;\n      if (nextState.popoverIsOpen !== this.state.popoverIsOpen) return true;\n      if (nextState.isEntered !== this.state.isEntered) return true;\n      if (nextState.disableCellTabIndex !== this.state.disableCellTabIndex) return true;\n      return false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          width = _this$props2.width,\n          isFocused = _this$props2.isFocused,\n          isExpandable = _this$props2.isExpandable,\n          PopoverContent = _this$props2.popoverContent,\n          interactiveCellId = _this$props2.interactiveCellId,\n          columnType = _this$props2.columnType,\n          onCellFocus = _this$props2.onCellFocus,\n          className = _this$props2.className,\n          rest = _objectWithoutProperties(_this$props2, [\"width\", \"isFocused\", \"isExpandable\", \"popoverContent\", \"interactiveCellId\", \"columnType\", \"onCellFocus\", \"className\"]);\n\n      var colIndex = rest.colIndex,\n          rowIndex = rest.rowIndex;\n      var cellClasses = classNames('euiDataGridRowCell', _defineProperty({}, \"euiDataGridRowCell--\".concat(columnType), columnType), className);\n\n      var cellProps = _objectSpread({}, this.state.cellProps, {\n        'data-test-subj': classNames('dataGridRowCell', this.state.cellProps['data-test-subj']),\n        className: classNames(cellClasses, this.state.cellProps.className)\n      });\n\n      var widthStyle = width != null ? {\n        width: \"\".concat(width, \"px\")\n      } : {};\n\n      if (cellProps.hasOwnProperty('style')) {\n        cellProps.style = _objectSpread({}, cellProps.style, {}, widthStyle);\n      } else {\n        cellProps.style = widthStyle;\n      }\n\n      var handleCellKeyDown = function handleCellKeyDown(e) {\n        if (isExpandable) {\n          switch (e.key) {\n            case 'Enter':\n            case 'F2':\n              e.preventDefault();\n\n              _this2.setState({\n                popoverIsOpen: true\n              });\n\n              break;\n          }\n        } else {\n          if (e.key === 'Enter' || e.key === 'F2' || e.key === 'Escape') {\n            var interactables = _this2.getInteractables();\n\n            if (interactables.length >= 2) {\n              switch (e.key) {\n                case 'Enter':\n                  // `Enter` only activates the trap\n                  if (_this2.state.isEntered === false) {\n                    _this2.enableTabbing();\n\n                    _this2.setState({\n                      isEntered: true\n                    }); // result of this keypress is focus shifts to the first interactive element\n                    // and then the browser fires the onClick event because that's how [Enter] works\n                    // so we need to prevent that default action otherwise entering the trap triggers the first element\n\n\n                    e.preventDefault();\n                  }\n\n                  break;\n\n                case 'F2':\n                  // toggle interactives' focus trap\n                  _this2.setState(function (_ref) {\n                    var isEntered = _ref.isEntered;\n\n                    if (isEntered) {\n                      _this2.preventTabbing();\n                    } else {\n                      _this2.enableTabbing();\n                    }\n\n                    return {\n                      isEntered: !isEntered\n                    };\n                  });\n\n                  break;\n\n                case 'Escape':\n                  // `Escape` only de-activates the trap\n                  _this2.preventTabbing();\n\n                  if (_this2.state.isEntered === true) {\n                    _this2.setState({\n                      isEntered: false\n                    });\n                  }\n\n                  break;\n              }\n            }\n          }\n        }\n      };\n\n      var cellContentProps = _objectSpread({}, rest, {\n        setCellProps: this.setCellProps,\n        columnType: columnType,\n        isExpandable: isExpandable,\n        isExpanded: this.state.popoverIsOpen,\n        isDetails: false\n      });\n\n      var buttonIconClasses = classNames('euiDataGridRowCell__expandButtonIcon', {\n        'euiDataGridRowCell__expandButtonIcon-isActive': this.state.popoverIsOpen\n      });\n      var buttonClasses = classNames('euiDataGridRowCell__expandButton', {\n        'euiDataGridRowCell__expandButton-isActive': this.state.popoverIsOpen\n      });\n      var expandButton = React.createElement(EuiI18n, {\n        token: \"euiDataGridCell.expandButtonTitle\",\n        default: \"Click or hit enter to interact with cell content\"\n      }, function (expandButtonTitle) {\n        return React.createElement(EuiButtonIcon, {\n          className: buttonIconClasses,\n          color: \"text\",\n          iconSize: \"s\",\n          iconType: \"expandMini\",\n          \"aria-hidden\": true,\n          onClick: function onClick() {\n            return _this2.setState(function (_ref2) {\n              var popoverIsOpen = _ref2.popoverIsOpen;\n              return {\n                popoverIsOpen: !popoverIsOpen\n              };\n            });\n          },\n          title: expandButtonTitle\n        });\n      });\n      var screenReaderPosition = React.createElement(EuiScreenReaderOnly, null, React.createElement(\"p\", null, React.createElement(EuiI18n, {\n        tokens: ['euiDataGridCell.row', 'euiDataGridCell.column'],\n        defaults: ['Row', 'Column']\n      }, function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            row = _ref4[0],\n            column = _ref4[1];\n\n        return React.createElement(\"span\", null, row, \": \", rowIndex + 1, \", \", column, \": \", colIndex + 1, \":\");\n      })));\n      var anchorContent = React.createElement(EuiFocusTrap, {\n        disabled: !this.state.isEntered,\n        autoFocus: true,\n        onDeactivation: function onDeactivation() {\n          _this2.setState({\n            isEntered: false\n          }, _this2.preventTabbing);\n        },\n        clickOutsideDisables: true\n      }, React.createElement(\"div\", {\n        className: \"euiDataGridRowCell__expandFlex\"\n      }, React.createElement(EuiMutationObserver, {\n        observerOptions: {\n          subtree: true,\n          childList: true\n        },\n        onMutation: this.preventTabbing\n      }, function (mutationRef) {\n        return React.createElement(\"div\", {\n          ref: mutationRef,\n          className: \"euiDataGridRowCell__expandContent\"\n        }, screenReaderPosition, React.createElement(\"div\", {\n          ref: _this2.setCellContentsRef,\n          className: \"euiDataGridRowCell__truncate\"\n        }, React.createElement(EuiDataGridCellContent, cellContentProps)));\n      })));\n\n      if (isExpandable) {\n        anchorContent = React.createElement(\"div\", {\n          className: \"euiDataGridRowCell__expandFlex\"\n        }, React.createElement(EuiMutationObserver, {\n          observerOptions: {\n            subtree: true,\n            childList: true\n          },\n          onMutation: this.preventTabbing\n        }, function (mutationRef) {\n          return React.createElement(\"div\", {\n            ref: mutationRef,\n            className: \"euiDataGridRowCell__expandContent\"\n          }, screenReaderPosition, React.createElement(\"div\", {\n            ref: _this2.setCellContentsRef,\n            className: \"euiDataGridRowCell__truncate\"\n          }, React.createElement(EuiDataGridCellContent, cellContentProps)));\n        }), React.createElement(\"div\", {\n          className: buttonClasses\n        }, expandButton));\n      }\n\n      var innerContent = anchorContent;\n\n      if (isExpandable) {\n        var CellElement = rest.renderCellValue;\n        var popoverContent = React.createElement(PopoverContent, {\n          cellContentsElement: this.cellContentsRef\n        }, React.createElement(CellElement, _extends({}, cellContentProps, {\n          isDetails: true\n        })));\n        innerContent = React.createElement(\"div\", {\n          className: \"euiDataGridRowCell__content\"\n        }, React.createElement(EuiPopover, {\n          anchorClassName: \"euiDataGridRowCell__expand\",\n          button: anchorContent,\n          isOpen: this.state.popoverIsOpen,\n          panelRef: function panelRef(ref) {\n            return _this2.popoverPanelRef.current = ref;\n          },\n          ownFocus: true,\n          panelClassName: \"euiDataGridRowCell__popover\",\n          zIndex: 8001,\n          display: \"block\",\n          closePopover: function closePopover() {\n            return _this2.setState({\n              popoverIsOpen: false\n            });\n          },\n          onKeyDown: function onKeyDown(e) {\n            if (e.key === 'F2' || e.key === 'Escape') {\n              e.preventDefault();\n              e.stopPropagation();\n\n              _this2.setState({\n                popoverIsOpen: false\n              });\n            }\n          },\n          onTrapDeactivation: this.updateFocus\n        }, popoverContent));\n      }\n\n      return React.createElement(\"div\", _extends({\n        role: \"gridcell\",\n        tabIndex: isFocused && !this.state.disableCellTabIndex ? 0 : -1,\n        ref: this.cellRef\n      }, cellProps, {\n        \"data-test-subj\": \"dataGridRowCell\",\n        onKeyDown: handleCellKeyDown,\n        onFocus: this.onFocus,\n        onBlur: this.onBlur\n      }), innerContent);\n    }\n  }]);\n\n  return EuiDataGridCell;\n}(Component);\n\n_defineProperty(EuiDataGridCell, \"contextType\", DataGridContext);\n\nEuiDataGridCell.propTypes = {\n  rowIndex: PropTypes.number.isRequired,\n  visibleRowIndex: PropTypes.number.isRequired,\n  colIndex: PropTypes.number.isRequired,\n  columnId: PropTypes.string.isRequired,\n  columnType: PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.oneOf([null])]),\n  width: PropTypes.number,\n  isFocused: PropTypes.bool.isRequired,\n  onCellFocus: PropTypes.func.isRequired,\n  interactiveCellId: PropTypes.string.isRequired,\n  isExpandable: PropTypes.bool.isRequired,\n  className: PropTypes.string,\n  popoverContent: PropTypes.elementType.isRequired,\n  renderCellValue: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.func.isRequired]).isRequired\n};\nEuiDataGridCell.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [{\n    \"name\": \"unsubscribeCell\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"getInteractables\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"updateFocus\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"setCellProps\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"cellProps\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"setCellContentsRef\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"ref\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onFocus\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onBlur\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"preventTabbing\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"enableTabbing\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }],\n  \"displayName\": \"EuiDataGridCell\",\n  \"props\": {\n    \"rowIndex\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"visibleRowIndex\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"colIndex\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"columnId\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"columnType\": {\n      \"type\": {\n        \"name\": \"union\",\n        \"value\": [{\n          \"name\": \"string\"\n        }, {\n          \"name\": \"enum\",\n          \"value\": [{\n            \"value\": \"null\",\n            \"computed\": false\n          }]\n        }]\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"width\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"isFocused\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"onCellFocus\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"interactiveCellId\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"isExpandable\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"className\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"popoverContent\": {\n      \"type\": {\n        \"name\": \"elementType\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"renderCellValue\": {\n      \"type\": {\n        \"name\": \"union\",\n        \"value\": [{\n          \"name\": \"func\"\n        }, {\n          \"name\": \"func\"\n        }]\n      },\n      \"required\": true,\n      \"description\": \"\"\n    }\n  }\n};","map":{"version":3,"sources":["/home/nadaanbaalak/greendeck/client/node_modules/@elastic/eui/es/components/datagrid/data_grid_cell.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Object","toString","call","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","Array","isArray","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","_extends","assign","hasOwnProperty","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","React","Component","memo","createRef","PropTypes","classNames","tabbable","EuiPopover","EuiScreenReaderOnly","EuiI18n","EuiButtonIcon","EuiMutationObserver","DataGridContext","EuiFocusTrap","EuiDataGridCellContent","renderCellValue","rest","CellElement","createElement","isDetails","propTypes","rowIndex","number","isRequired","visibleRowIndex","colIndex","columnId","string","columnType","oneOfType","oneOf","isExpandable","bool","className","func","setCellProps","isExpanded","EuiDataGridCell","_Component","_getPrototypeOf2","_this","_len","args","_key","concat","cellProps","popoverIsOpen","isEntered","disableCellTabIndex","tabbingRef","cellContentsRef","querySelectorAll","cell","cellRef","current","isFocused","element","document","activeElement","parentElement","doFocusUpdate","interactables","getInteractables","focus","setState","ref","preventTabbing","_this$props","onCellFocus","tabbables","setAttribute","removeAttribute","componentDidMount","unsubscribeCell","context","onFocusUpdate","updateFocus","componentWillUnmount","componentDidUpdate","prevProps","didFocusChange","shouldComponentUpdate","nextProps","nextState","width","interactiveCellId","popoverContent","state","render","_this2","_this$props2","PopoverContent","cellClasses","widthStyle","style","handleCellKeyDown","e","preventDefault","enableTabbing","_ref","cellContentProps","buttonIconClasses","buttonClasses","expandButton","token","default","expandButtonTitle","color","iconSize","iconType","onClick","_ref2","title","screenReaderPosition","tokens","defaults","_ref3","_ref4","row","column","anchorContent","disabled","autoFocus","onDeactivation","clickOutsideDisables","observerOptions","subtree","childList","onMutation","mutationRef","setCellContentsRef","innerContent","cellContentsElement","anchorClassName","button","isOpen","panelRef","popoverPanelRef","ownFocus","panelClassName","zIndex","display","closePopover","onKeyDown","stopPropagation","onTrapDeactivation","role","tabIndex","onFocus","onBlur","elementType","__docgenInfo"],"mappings":"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","sourcesContent":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { Component, memo, createRef } from 'react';\nimport PropTypes from \"prop-types\";\nimport classNames from 'classnames';\nimport tabbable from 'tabbable';\nimport { EuiPopover } from '../popover';\nimport { EuiScreenReaderOnly } from '../accessibility';\nimport { EuiI18n } from '../i18n';\nimport { EuiButtonIcon } from '../button';\nimport { EuiMutationObserver } from '../observer/mutation_observer';\nimport { DataGridContext } from './data_grid_context';\nimport { EuiFocusTrap } from '../focus_trap';\nvar EuiDataGridCellContent = memo(function (props) {\n  var renderCellValue = props.renderCellValue,\n      rest = _objectWithoutProperties(props, [\"renderCellValue\"]); // React is more permissible than the TS types indicate\n\n\n  var CellElement = renderCellValue;\n  return React.createElement(CellElement, _extends({\n    isDetails: false,\n    \"data-test-subj\": \"cell-content\"\n  }, rest));\n});\nEuiDataGridCellContent.propTypes = {\n  rowIndex: PropTypes.number.isRequired,\n  visibleRowIndex: PropTypes.number.isRequired,\n  colIndex: PropTypes.number.isRequired,\n  columnId: PropTypes.string.isRequired,\n  columnType: PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.oneOf([null])]),\n  isExpandable: PropTypes.bool.isRequired,\n  className: PropTypes.string,\n  renderCellValue: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.func.isRequired]).isRequired,\n  setCellProps: PropTypes.func.isRequired,\n  isExpanded: PropTypes.bool.isRequired\n};\nexport var EuiDataGridCell =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EuiDataGridCell, _Component);\n\n  function EuiDataGridCell() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, EuiDataGridCell);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(EuiDataGridCell)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"cellRef\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"popoverPanelRef\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"cellContentsRef\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      cellProps: {},\n      popoverIsOpen: false,\n      isEntered: false,\n      disableCellTabIndex: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unsubscribeCell\", function () {});\n\n    _defineProperty(_assertThisInitialized(_this), \"getInteractables\", function () {\n      var tabbingRef = _this.cellContentsRef;\n\n      if (tabbingRef) {\n        return tabbingRef.querySelectorAll('[data-datagrid-interactable=true]');\n      }\n\n      return [];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateFocus\", function () {\n      var cell = _this.cellRef.current;\n      var isFocused = _this.props.isFocused;\n\n      if (cell && isFocused) {\n        // only update focus if we are not already focused on something in this cell\n        var element = document.activeElement;\n\n        while (element != null && element !== cell) {\n          element = element.parentElement;\n        }\n\n        var doFocusUpdate = element !== cell;\n\n        if (doFocusUpdate) {\n          var interactables = _this.getInteractables();\n\n          if (_this.props.isExpandable === false && interactables.length === 1) {\n            // Only one element can be interacted with\n            interactables[0].focus();\n          } else {\n            cell.focus();\n          }\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setCellProps\", function (cellProps) {\n      _this.setState({\n        cellProps: cellProps\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setCellContentsRef\", function (ref) {\n      _this.cellContentsRef = ref;\n\n      _this.preventTabbing();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function () {\n      var _this$props = _this.props,\n          onCellFocus = _this$props.onCellFocus,\n          colIndex = _this$props.colIndex,\n          visibleRowIndex = _this$props.visibleRowIndex,\n          isExpandable = _this$props.isExpandable;\n      onCellFocus([colIndex, visibleRowIndex]);\n\n      var interactables = _this.getInteractables();\n\n      if (interactables.length === 1 && isExpandable === false) {\n        interactables[0].focus();\n\n        _this.setState({\n          disableCellTabIndex: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBlur\", function () {\n      _this.setState({\n        disableCellTabIndex: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"preventTabbing\", function () {\n      if (_this.cellContentsRef) {\n        var tabbables = tabbable(_this.cellContentsRef);\n\n        for (var i = 0; i < tabbables.length; i++) {\n          var element = tabbables[i];\n          element.setAttribute('tabIndex', '-1');\n          element.setAttribute('data-datagrid-interactable', 'true');\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"enableTabbing\", function () {\n      if (_this.cellContentsRef) {\n        var interactables = _this.getInteractables();\n\n        for (var i = 0; i < interactables.length; i++) {\n          var element = interactables[i];\n          element.removeAttribute('tabIndex');\n        }\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(EuiDataGridCell, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.unsubscribeCell = this.context.onFocusUpdate([this.props.colIndex, this.props.visibleRowIndex], this.updateFocus);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.unsubscribeCell) {\n        this.unsubscribeCell();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var didFocusChange = prevProps.isFocused !== this.props.isFocused;\n\n      if (didFocusChange) {\n        this.updateFocus();\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      if (nextProps.rowIndex !== this.props.rowIndex) return true;\n      if (nextProps.visibleRowIndex !== this.props.visibleRowIndex) return true;\n      if (nextProps.colIndex !== this.props.colIndex) return true;\n      if (nextProps.columnId !== this.props.columnId) return true;\n      if (nextProps.columnType !== this.props.columnType) return true;\n      if (nextProps.width !== this.props.width) return true;\n      if (nextProps.renderCellValue !== this.props.renderCellValue) return true;\n      if (nextProps.onCellFocus !== this.props.onCellFocus) return true;\n      if (nextProps.isFocused !== this.props.isFocused) return true;\n      if (nextProps.interactiveCellId !== this.props.interactiveCellId) return true;\n      if (nextProps.popoverContent !== this.props.popoverContent) return true;\n      if (nextState.cellProps !== this.state.cellProps) return true;\n      if (nextState.popoverIsOpen !== this.state.popoverIsOpen) return true;\n      if (nextState.isEntered !== this.state.isEntered) return true;\n      if (nextState.disableCellTabIndex !== this.state.disableCellTabIndex) return true;\n      return false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          width = _this$props2.width,\n          isFocused = _this$props2.isFocused,\n          isExpandable = _this$props2.isExpandable,\n          PopoverContent = _this$props2.popoverContent,\n          interactiveCellId = _this$props2.interactiveCellId,\n          columnType = _this$props2.columnType,\n          onCellFocus = _this$props2.onCellFocus,\n          className = _this$props2.className,\n          rest = _objectWithoutProperties(_this$props2, [\"width\", \"isFocused\", \"isExpandable\", \"popoverContent\", \"interactiveCellId\", \"columnType\", \"onCellFocus\", \"className\"]);\n\n      var colIndex = rest.colIndex,\n          rowIndex = rest.rowIndex;\n      var cellClasses = classNames('euiDataGridRowCell', _defineProperty({}, \"euiDataGridRowCell--\".concat(columnType), columnType), className);\n\n      var cellProps = _objectSpread({}, this.state.cellProps, {\n        'data-test-subj': classNames('dataGridRowCell', this.state.cellProps['data-test-subj']),\n        className: classNames(cellClasses, this.state.cellProps.className)\n      });\n\n      var widthStyle = width != null ? {\n        width: \"\".concat(width, \"px\")\n      } : {};\n\n      if (cellProps.hasOwnProperty('style')) {\n        cellProps.style = _objectSpread({}, cellProps.style, {}, widthStyle);\n      } else {\n        cellProps.style = widthStyle;\n      }\n\n      var handleCellKeyDown = function handleCellKeyDown(e) {\n        if (isExpandable) {\n          switch (e.key) {\n            case 'Enter':\n            case 'F2':\n              e.preventDefault();\n\n              _this2.setState({\n                popoverIsOpen: true\n              });\n\n              break;\n          }\n        } else {\n          if (e.key === 'Enter' || e.key === 'F2' || e.key === 'Escape') {\n            var interactables = _this2.getInteractables();\n\n            if (interactables.length >= 2) {\n              switch (e.key) {\n                case 'Enter':\n                  // `Enter` only activates the trap\n                  if (_this2.state.isEntered === false) {\n                    _this2.enableTabbing();\n\n                    _this2.setState({\n                      isEntered: true\n                    }); // result of this keypress is focus shifts to the first interactive element\n                    // and then the browser fires the onClick event because that's how [Enter] works\n                    // so we need to prevent that default action otherwise entering the trap triggers the first element\n\n\n                    e.preventDefault();\n                  }\n\n                  break;\n\n                case 'F2':\n                  // toggle interactives' focus trap\n                  _this2.setState(function (_ref) {\n                    var isEntered = _ref.isEntered;\n\n                    if (isEntered) {\n                      _this2.preventTabbing();\n                    } else {\n                      _this2.enableTabbing();\n                    }\n\n                    return {\n                      isEntered: !isEntered\n                    };\n                  });\n\n                  break;\n\n                case 'Escape':\n                  // `Escape` only de-activates the trap\n                  _this2.preventTabbing();\n\n                  if (_this2.state.isEntered === true) {\n                    _this2.setState({\n                      isEntered: false\n                    });\n                  }\n\n                  break;\n              }\n            }\n          }\n        }\n      };\n\n      var cellContentProps = _objectSpread({}, rest, {\n        setCellProps: this.setCellProps,\n        columnType: columnType,\n        isExpandable: isExpandable,\n        isExpanded: this.state.popoverIsOpen,\n        isDetails: false\n      });\n\n      var buttonIconClasses = classNames('euiDataGridRowCell__expandButtonIcon', {\n        'euiDataGridRowCell__expandButtonIcon-isActive': this.state.popoverIsOpen\n      });\n      var buttonClasses = classNames('euiDataGridRowCell__expandButton', {\n        'euiDataGridRowCell__expandButton-isActive': this.state.popoverIsOpen\n      });\n      var expandButton = React.createElement(EuiI18n, {\n        token: \"euiDataGridCell.expandButtonTitle\",\n        default: \"Click or hit enter to interact with cell content\"\n      }, function (expandButtonTitle) {\n        return React.createElement(EuiButtonIcon, {\n          className: buttonIconClasses,\n          color: \"text\",\n          iconSize: \"s\",\n          iconType: \"expandMini\",\n          \"aria-hidden\": true,\n          onClick: function onClick() {\n            return _this2.setState(function (_ref2) {\n              var popoverIsOpen = _ref2.popoverIsOpen;\n              return {\n                popoverIsOpen: !popoverIsOpen\n              };\n            });\n          },\n          title: expandButtonTitle\n        });\n      });\n      var screenReaderPosition = React.createElement(EuiScreenReaderOnly, null, React.createElement(\"p\", null, React.createElement(EuiI18n, {\n        tokens: ['euiDataGridCell.row', 'euiDataGridCell.column'],\n        defaults: ['Row', 'Column']\n      }, function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            row = _ref4[0],\n            column = _ref4[1];\n\n        return React.createElement(\"span\", null, row, \": \", rowIndex + 1, \", \", column, \": \", colIndex + 1, \":\");\n      })));\n      var anchorContent = React.createElement(EuiFocusTrap, {\n        disabled: !this.state.isEntered,\n        autoFocus: true,\n        onDeactivation: function onDeactivation() {\n          _this2.setState({\n            isEntered: false\n          }, _this2.preventTabbing);\n        },\n        clickOutsideDisables: true\n      }, React.createElement(\"div\", {\n        className: \"euiDataGridRowCell__expandFlex\"\n      }, React.createElement(EuiMutationObserver, {\n        observerOptions: {\n          subtree: true,\n          childList: true\n        },\n        onMutation: this.preventTabbing\n      }, function (mutationRef) {\n        return React.createElement(\"div\", {\n          ref: mutationRef,\n          className: \"euiDataGridRowCell__expandContent\"\n        }, screenReaderPosition, React.createElement(\"div\", {\n          ref: _this2.setCellContentsRef,\n          className: \"euiDataGridRowCell__truncate\"\n        }, React.createElement(EuiDataGridCellContent, cellContentProps)));\n      })));\n\n      if (isExpandable) {\n        anchorContent = React.createElement(\"div\", {\n          className: \"euiDataGridRowCell__expandFlex\"\n        }, React.createElement(EuiMutationObserver, {\n          observerOptions: {\n            subtree: true,\n            childList: true\n          },\n          onMutation: this.preventTabbing\n        }, function (mutationRef) {\n          return React.createElement(\"div\", {\n            ref: mutationRef,\n            className: \"euiDataGridRowCell__expandContent\"\n          }, screenReaderPosition, React.createElement(\"div\", {\n            ref: _this2.setCellContentsRef,\n            className: \"euiDataGridRowCell__truncate\"\n          }, React.createElement(EuiDataGridCellContent, cellContentProps)));\n        }), React.createElement(\"div\", {\n          className: buttonClasses\n        }, expandButton));\n      }\n\n      var innerContent = anchorContent;\n\n      if (isExpandable) {\n        var CellElement = rest.renderCellValue;\n        var popoverContent = React.createElement(PopoverContent, {\n          cellContentsElement: this.cellContentsRef\n        }, React.createElement(CellElement, _extends({}, cellContentProps, {\n          isDetails: true\n        })));\n        innerContent = React.createElement(\"div\", {\n          className: \"euiDataGridRowCell__content\"\n        }, React.createElement(EuiPopover, {\n          anchorClassName: \"euiDataGridRowCell__expand\",\n          button: anchorContent,\n          isOpen: this.state.popoverIsOpen,\n          panelRef: function panelRef(ref) {\n            return _this2.popoverPanelRef.current = ref;\n          },\n          ownFocus: true,\n          panelClassName: \"euiDataGridRowCell__popover\",\n          zIndex: 8001,\n          display: \"block\",\n          closePopover: function closePopover() {\n            return _this2.setState({\n              popoverIsOpen: false\n            });\n          },\n          onKeyDown: function onKeyDown(e) {\n            if (e.key === 'F2' || e.key === 'Escape') {\n              e.preventDefault();\n              e.stopPropagation();\n\n              _this2.setState({\n                popoverIsOpen: false\n              });\n            }\n          },\n          onTrapDeactivation: this.updateFocus\n        }, popoverContent));\n      }\n\n      return React.createElement(\"div\", _extends({\n        role: \"gridcell\",\n        tabIndex: isFocused && !this.state.disableCellTabIndex ? 0 : -1,\n        ref: this.cellRef\n      }, cellProps, {\n        \"data-test-subj\": \"dataGridRowCell\",\n        onKeyDown: handleCellKeyDown,\n        onFocus: this.onFocus,\n        onBlur: this.onBlur\n      }), innerContent);\n    }\n  }]);\n\n  return EuiDataGridCell;\n}(Component);\n\n_defineProperty(EuiDataGridCell, \"contextType\", DataGridContext);\n\nEuiDataGridCell.propTypes = {\n  rowIndex: PropTypes.number.isRequired,\n  visibleRowIndex: PropTypes.number.isRequired,\n  colIndex: PropTypes.number.isRequired,\n  columnId: PropTypes.string.isRequired,\n  columnType: PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.oneOf([null])]),\n  width: PropTypes.number,\n  isFocused: PropTypes.bool.isRequired,\n  onCellFocus: PropTypes.func.isRequired,\n  interactiveCellId: PropTypes.string.isRequired,\n  isExpandable: PropTypes.bool.isRequired,\n  className: PropTypes.string,\n  popoverContent: PropTypes.elementType.isRequired,\n  renderCellValue: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.func.isRequired]).isRequired\n};\nEuiDataGridCell.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [{\n    \"name\": \"unsubscribeCell\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"getInteractables\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"updateFocus\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"setCellProps\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"cellProps\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"setCellContentsRef\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"ref\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onFocus\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onBlur\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"preventTabbing\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"enableTabbing\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }],\n  \"displayName\": \"EuiDataGridCell\",\n  \"props\": {\n    \"rowIndex\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"visibleRowIndex\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"colIndex\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"columnId\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"columnType\": {\n      \"type\": {\n        \"name\": \"union\",\n        \"value\": [{\n          \"name\": \"string\"\n        }, {\n          \"name\": \"enum\",\n          \"value\": [{\n            \"value\": \"null\",\n            \"computed\": false\n          }]\n        }]\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"width\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"isFocused\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"onCellFocus\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"interactiveCellId\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"isExpandable\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"className\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"popoverContent\": {\n      \"type\": {\n        \"name\": \"elementType\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"renderCellValue\": {\n      \"type\": {\n        \"name\": \"union\",\n        \"value\": [{\n          \"name\": \"func\"\n        }, {\n          \"name\": \"func\"\n        }]\n      },\n      \"required\": true,\n      \"description\": \"\"\n    }\n  }\n};"]},"metadata":{},"sourceType":"module"}