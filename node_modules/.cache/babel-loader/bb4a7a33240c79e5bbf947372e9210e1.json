{"ast":null,"code":"function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\nimport React, { Fragment, useState, useMemo } from 'react';\nimport classNames from 'classnames';\nimport { EuiPopover, EuiPopoverFooter, EuiPopoverTitle } from '../popover';\nimport { EuiI18n } from '../i18n';\nimport { EuiButtonEmpty } from '../button';\nimport { EuiFlexGroup, EuiFlexItem } from '../flex';\nimport { EuiSwitch, EuiFieldText } from '../form';\nimport { EuiDragDropContext, EuiDraggable, EuiDroppable, euiDragDropReorder } from '../drag_and_drop';\nimport { EuiIcon } from '../icon';\nimport { useDependentState } from '../../services';\n\nvar getShowColumnSelectorValue = function getShowColumnSelectorValue(showColumnSelector, valueName) {\n  if (showColumnSelector === false) return false;\n  if (showColumnSelector == null) return true;\n  if (showColumnSelector === true) return true;\n  return showColumnSelector[valueName] !== false;\n};\n\nexport var useColumnSelector = function useColumnSelector(availableColumns, columnVisibility, showColumnSelector) {\n  var allowColumnHiding = getShowColumnSelectorValue(showColumnSelector, 'allowHide');\n  var allowColumnReorder = getShowColumnSelectorValue(showColumnSelector, 'allowReorder');\n\n  var _useDependentState = useDependentState(function () {\n    return availableColumns.map(function (_ref) {\n      var id = _ref.id;\n      return id;\n    });\n  }, [availableColumns]),\n      _useDependentState2 = _slicedToArray(_useDependentState, 2),\n      sortedColumns = _useDependentState2[0],\n      setSortedColumns = _useDependentState2[1];\n\n  var visibleColumns = columnVisibility.visibleColumns,\n      setVisibleColumns = columnVisibility.setVisibleColumns;\n  var visibleColumnIds = new Set(visibleColumns);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  function onDragEnd(_ref2) {\n    var sourceIndex = _ref2.source.index,\n        destination = _ref2.destination;\n    var destinationIndex = destination.index;\n    var nextSortedColumns = euiDragDropReorder(sortedColumns, sourceIndex, destinationIndex);\n    setSortedColumns(nextSortedColumns);\n    var nextVisibleColumns = nextSortedColumns.filter(function (id) {\n      return visibleColumnIds.has(id);\n    });\n    setVisibleColumns(nextVisibleColumns);\n  }\n\n  var numberOfHiddenFields = availableColumns.length - visibleColumns.length;\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      columnSearchText = _useState4[0],\n      setColumnSearchText = _useState4[1];\n\n  var controlBtnClasses = classNames('euiDataGrid__controlBtn', {\n    'euiDataGrid__controlBtn--active': numberOfHiddenFields > 0\n  });\n  var filteredColumns = sortedColumns.filter(function (id) {\n    return id.toLowerCase().indexOf(columnSearchText.toLowerCase()) !== -1;\n  });\n  var isDragEnabled = allowColumnReorder && columnSearchText.length === 0; // only allow drag-and-drop when not filtering columns\n\n  var buttonText = React.createElement(EuiI18n, {\n    token: \"euiColumnSelector.button\",\n    default: \"Columns\"\n  });\n\n  if (numberOfHiddenFields === 1) {\n    buttonText = React.createElement(EuiI18n, {\n      token: \"euiColumnSelector.buttonActiveSingular\",\n      default: \"{numberOfHiddenFields} column hidden\",\n      values: {\n        numberOfHiddenFields: numberOfHiddenFields\n      }\n    });\n  } else if (numberOfHiddenFields > 1) {\n    buttonText = React.createElement(EuiI18n, {\n      token: \"euiColumnSelector.buttonActivePlural\",\n      default: \"{numberOfHiddenFields} columns hidden\",\n      values: {\n        numberOfHiddenFields: numberOfHiddenFields\n      }\n    });\n  }\n\n  var columnSelector = React.createElement(EuiPopover, {\n    \"data-test-subj\": \"dataGridColumnSelectorPopover\",\n    isOpen: isOpen,\n    closePopover: function closePopover() {\n      return setIsOpen(false);\n    },\n    anchorPosition: \"downLeft\",\n    ownFocus: true,\n    panelPaddingSize: \"s\",\n    panelClassName: \"euiDataGridColumnSelectorPopover\",\n    button: React.createElement(EuiButtonEmpty, {\n      size: \"xs\",\n      iconType: allowColumnHiding ? 'listAdd' : 'list',\n      color: \"text\",\n      className: controlBtnClasses,\n      \"data-test-subj\": \"dataGridColumnSelectorButton\",\n      onClick: function onClick() {\n        return setIsOpen(!isOpen);\n      }\n    }, buttonText)\n  }, React.createElement(\"div\", null, allowColumnHiding && React.createElement(EuiPopoverTitle, null, React.createElement(EuiI18n, {\n    tokens: ['euiColumnSelector.search', 'euiColumnSelector.searchcolumns'],\n    defaults: ['Search', 'Search columns']\n  }, function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        search = _ref4[0],\n        searchcolumns = _ref4[1];\n\n    return React.createElement(EuiFieldText, {\n      compressed: true,\n      placeholder: search,\n      \"aria-label\": searchcolumns,\n      value: columnSearchText,\n      onChange: function onChange(e) {\n        return setColumnSearchText(e.currentTarget.value);\n      }\n    });\n  })), React.createElement(\"div\", {\n    className: \"euiDataGrid__controlScroll\"\n  }, React.createElement(EuiDragDropContext, {\n    onDragEnd: onDragEnd\n  }, React.createElement(EuiDroppable, {\n    droppableId: \"columnOrder\",\n    isDropDisabled: !isDragEnabled\n  }, React.createElement(Fragment, null, filteredColumns.map(function (id, index) {\n    return React.createElement(EuiDraggable, {\n      key: id,\n      draggableId: id,\n      index: index,\n      isDragDisabled: !isDragEnabled\n    }, function (provided, state) {\n      return React.createElement(\"div\", {\n        className: \"euiDataGridColumnSelector__item \".concat(state.isDragging && 'euiDataGridColumnSelector__item-isDragging')\n      }, React.createElement(EuiFlexGroup, {\n        gutterSize: \"m\",\n        alignItems: \"center\"\n      }, React.createElement(EuiFlexItem, null, allowColumnHiding ? React.createElement(EuiSwitch, {\n        name: id,\n        label: id,\n        checked: visibleColumnIds.has(id),\n        compressed: true,\n        className: \"euiSwitch--mini\",\n        onChange: function onChange(event) {\n          var checked = event.target.checked;\n          var nextVisibleColumns = sortedColumns.filter(function (columnId) {\n            return checked ? visibleColumnIds.has(columnId) || id === columnId : visibleColumnIds.has(columnId) && id !== columnId;\n          });\n          setVisibleColumns(nextVisibleColumns);\n        }\n      }) : React.createElement(\"span\", {\n        className: \"euiDataGridColumnSelector__itemLabel\"\n      }, id)), isDragEnabled && React.createElement(EuiFlexItem, {\n        grow: false\n      }, React.createElement(EuiIcon, {\n        type: \"grab\",\n        color: \"subdued\"\n      }))));\n    });\n  })))))), allowColumnHiding && React.createElement(EuiPopoverFooter, null, React.createElement(EuiFlexGroup, {\n    gutterSize: \"s\",\n    justifyContent: \"spaceBetween\"\n  }, React.createElement(EuiFlexItem, {\n    grow: false\n  }, React.createElement(EuiButtonEmpty, {\n    size: \"xs\",\n    flush: \"left\",\n    onClick: function onClick() {\n      return setVisibleColumns(sortedColumns);\n    }\n  }, React.createElement(EuiI18n, {\n    token: \"euiColumnSelector.selectAll\",\n    default: \"Show all\"\n  }))), React.createElement(EuiFlexItem, {\n    grow: false\n  }, React.createElement(EuiButtonEmpty, {\n    size: \"xs\",\n    flush: \"right\",\n    onClick: function onClick() {\n      return setVisibleColumns([]);\n    }\n  }, React.createElement(EuiI18n, {\n    token: \"euiColumnSelector.hideAll\",\n    default: \"Hide all\"\n  }))))));\n  var orderedVisibleColumns = useMemo(function () {\n    return visibleColumns.map(function (columnId) {\n      return availableColumns.find(function (_ref5) {\n        var id = _ref5.id;\n        return id === columnId;\n      });\n    } // cast to avoid `undefined`, it filters those out next\n    ).filter(function (column) {\n      return column != null;\n    });\n  }, [availableColumns, visibleColumns]);\n  return [columnSelector, orderedVisibleColumns];\n};","map":{"version":3,"sources":["/home/nadaanbaalak/greendeck/client/node_modules/@elastic/eui/es/components/datagrid/column_selector.js"],"names":["_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","Array","isArray","React","Fragment","useState","useMemo","classNames","EuiPopover","EuiPopoverFooter","EuiPopoverTitle","EuiI18n","EuiButtonEmpty","EuiFlexGroup","EuiFlexItem","EuiSwitch","EuiFieldText","EuiDragDropContext","EuiDraggable","EuiDroppable","euiDragDropReorder","EuiIcon","useDependentState","getShowColumnSelectorValue","showColumnSelector","valueName","useColumnSelector","availableColumns","columnVisibility","allowColumnHiding","allowColumnReorder","_useDependentState","map","_ref","id","_useDependentState2","sortedColumns","setSortedColumns","visibleColumns","setVisibleColumns","visibleColumnIds","Set","_useState","_useState2","isOpen","setIsOpen","onDragEnd","_ref2","sourceIndex","source","index","destination","destinationIndex","nextSortedColumns","nextVisibleColumns","filter","has","numberOfHiddenFields","_useState3","_useState4","columnSearchText","setColumnSearchText","controlBtnClasses","filteredColumns","toLowerCase","indexOf","isDragEnabled","buttonText","createElement","token","default","values","columnSelector","closePopover","anchorPosition","ownFocus","panelPaddingSize","panelClassName","button","size","iconType","color","className","onClick","tokens","defaults","_ref3","_ref4","search","searchcolumns","compressed","placeholder","onChange","e","currentTarget","droppableId","isDropDisabled","key","draggableId","isDragDisabled","provided","state","concat","isDragging","gutterSize","alignItems","name","label","checked","event","target","columnId","grow","type","justifyContent","flush","orderedVisibleColumns","find","_ref5","column"],"mappings":"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","sourcesContent":["function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { Fragment, useState, useMemo } from 'react';\nimport classNames from 'classnames';\nimport { EuiPopover, EuiPopoverFooter, EuiPopoverTitle } from '../popover';\nimport { EuiI18n } from '../i18n';\nimport { EuiButtonEmpty } from '../button';\nimport { EuiFlexGroup, EuiFlexItem } from '../flex';\nimport { EuiSwitch, EuiFieldText } from '../form';\nimport { EuiDragDropContext, EuiDraggable, EuiDroppable, euiDragDropReorder } from '../drag_and_drop';\nimport { EuiIcon } from '../icon';\nimport { useDependentState } from '../../services';\n\nvar getShowColumnSelectorValue = function getShowColumnSelectorValue(showColumnSelector, valueName) {\n  if (showColumnSelector === false) return false;\n  if (showColumnSelector == null) return true;\n  if (showColumnSelector === true) return true;\n  return showColumnSelector[valueName] !== false;\n};\n\nexport var useColumnSelector = function useColumnSelector(availableColumns, columnVisibility, showColumnSelector) {\n  var allowColumnHiding = getShowColumnSelectorValue(showColumnSelector, 'allowHide');\n  var allowColumnReorder = getShowColumnSelectorValue(showColumnSelector, 'allowReorder');\n\n  var _useDependentState = useDependentState(function () {\n    return availableColumns.map(function (_ref) {\n      var id = _ref.id;\n      return id;\n    });\n  }, [availableColumns]),\n      _useDependentState2 = _slicedToArray(_useDependentState, 2),\n      sortedColumns = _useDependentState2[0],\n      setSortedColumns = _useDependentState2[1];\n\n  var visibleColumns = columnVisibility.visibleColumns,\n      setVisibleColumns = columnVisibility.setVisibleColumns;\n  var visibleColumnIds = new Set(visibleColumns);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  function onDragEnd(_ref2) {\n    var sourceIndex = _ref2.source.index,\n        destination = _ref2.destination;\n    var destinationIndex = destination.index;\n    var nextSortedColumns = euiDragDropReorder(sortedColumns, sourceIndex, destinationIndex);\n    setSortedColumns(nextSortedColumns);\n    var nextVisibleColumns = nextSortedColumns.filter(function (id) {\n      return visibleColumnIds.has(id);\n    });\n    setVisibleColumns(nextVisibleColumns);\n  }\n\n  var numberOfHiddenFields = availableColumns.length - visibleColumns.length;\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      columnSearchText = _useState4[0],\n      setColumnSearchText = _useState4[1];\n\n  var controlBtnClasses = classNames('euiDataGrid__controlBtn', {\n    'euiDataGrid__controlBtn--active': numberOfHiddenFields > 0\n  });\n  var filteredColumns = sortedColumns.filter(function (id) {\n    return id.toLowerCase().indexOf(columnSearchText.toLowerCase()) !== -1;\n  });\n  var isDragEnabled = allowColumnReorder && columnSearchText.length === 0; // only allow drag-and-drop when not filtering columns\n\n  var buttonText = React.createElement(EuiI18n, {\n    token: \"euiColumnSelector.button\",\n    default: \"Columns\"\n  });\n\n  if (numberOfHiddenFields === 1) {\n    buttonText = React.createElement(EuiI18n, {\n      token: \"euiColumnSelector.buttonActiveSingular\",\n      default: \"{numberOfHiddenFields} column hidden\",\n      values: {\n        numberOfHiddenFields: numberOfHiddenFields\n      }\n    });\n  } else if (numberOfHiddenFields > 1) {\n    buttonText = React.createElement(EuiI18n, {\n      token: \"euiColumnSelector.buttonActivePlural\",\n      default: \"{numberOfHiddenFields} columns hidden\",\n      values: {\n        numberOfHiddenFields: numberOfHiddenFields\n      }\n    });\n  }\n\n  var columnSelector = React.createElement(EuiPopover, {\n    \"data-test-subj\": \"dataGridColumnSelectorPopover\",\n    isOpen: isOpen,\n    closePopover: function closePopover() {\n      return setIsOpen(false);\n    },\n    anchorPosition: \"downLeft\",\n    ownFocus: true,\n    panelPaddingSize: \"s\",\n    panelClassName: \"euiDataGridColumnSelectorPopover\",\n    button: React.createElement(EuiButtonEmpty, {\n      size: \"xs\",\n      iconType: allowColumnHiding ? 'listAdd' : 'list',\n      color: \"text\",\n      className: controlBtnClasses,\n      \"data-test-subj\": \"dataGridColumnSelectorButton\",\n      onClick: function onClick() {\n        return setIsOpen(!isOpen);\n      }\n    }, buttonText)\n  }, React.createElement(\"div\", null, allowColumnHiding && React.createElement(EuiPopoverTitle, null, React.createElement(EuiI18n, {\n    tokens: ['euiColumnSelector.search', 'euiColumnSelector.searchcolumns'],\n    defaults: ['Search', 'Search columns']\n  }, function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        search = _ref4[0],\n        searchcolumns = _ref4[1];\n\n    return React.createElement(EuiFieldText, {\n      compressed: true,\n      placeholder: search,\n      \"aria-label\": searchcolumns,\n      value: columnSearchText,\n      onChange: function onChange(e) {\n        return setColumnSearchText(e.currentTarget.value);\n      }\n    });\n  })), React.createElement(\"div\", {\n    className: \"euiDataGrid__controlScroll\"\n  }, React.createElement(EuiDragDropContext, {\n    onDragEnd: onDragEnd\n  }, React.createElement(EuiDroppable, {\n    droppableId: \"columnOrder\",\n    isDropDisabled: !isDragEnabled\n  }, React.createElement(Fragment, null, filteredColumns.map(function (id, index) {\n    return React.createElement(EuiDraggable, {\n      key: id,\n      draggableId: id,\n      index: index,\n      isDragDisabled: !isDragEnabled\n    }, function (provided, state) {\n      return React.createElement(\"div\", {\n        className: \"euiDataGridColumnSelector__item \".concat(state.isDragging && 'euiDataGridColumnSelector__item-isDragging')\n      }, React.createElement(EuiFlexGroup, {\n        gutterSize: \"m\",\n        alignItems: \"center\"\n      }, React.createElement(EuiFlexItem, null, allowColumnHiding ? React.createElement(EuiSwitch, {\n        name: id,\n        label: id,\n        checked: visibleColumnIds.has(id),\n        compressed: true,\n        className: \"euiSwitch--mini\",\n        onChange: function onChange(event) {\n          var checked = event.target.checked;\n          var nextVisibleColumns = sortedColumns.filter(function (columnId) {\n            return checked ? visibleColumnIds.has(columnId) || id === columnId : visibleColumnIds.has(columnId) && id !== columnId;\n          });\n          setVisibleColumns(nextVisibleColumns);\n        }\n      }) : React.createElement(\"span\", {\n        className: \"euiDataGridColumnSelector__itemLabel\"\n      }, id)), isDragEnabled && React.createElement(EuiFlexItem, {\n        grow: false\n      }, React.createElement(EuiIcon, {\n        type: \"grab\",\n        color: \"subdued\"\n      }))));\n    });\n  })))))), allowColumnHiding && React.createElement(EuiPopoverFooter, null, React.createElement(EuiFlexGroup, {\n    gutterSize: \"s\",\n    justifyContent: \"spaceBetween\"\n  }, React.createElement(EuiFlexItem, {\n    grow: false\n  }, React.createElement(EuiButtonEmpty, {\n    size: \"xs\",\n    flush: \"left\",\n    onClick: function onClick() {\n      return setVisibleColumns(sortedColumns);\n    }\n  }, React.createElement(EuiI18n, {\n    token: \"euiColumnSelector.selectAll\",\n    default: \"Show all\"\n  }))), React.createElement(EuiFlexItem, {\n    grow: false\n  }, React.createElement(EuiButtonEmpty, {\n    size: \"xs\",\n    flush: \"right\",\n    onClick: function onClick() {\n      return setVisibleColumns([]);\n    }\n  }, React.createElement(EuiI18n, {\n    token: \"euiColumnSelector.hideAll\",\n    default: \"Hide all\"\n  }))))));\n  var orderedVisibleColumns = useMemo(function () {\n    return visibleColumns.map(function (columnId) {\n      return availableColumns.find(function (_ref5) {\n        var id = _ref5.id;\n        return id === columnId;\n      });\n    } // cast to avoid `undefined`, it filters those out next\n    ).filter(function (column) {\n      return column != null;\n    });\n  }, [availableColumns, visibleColumns]);\n  return [columnSelector, orderedVisibleColumns];\n};"]},"metadata":{},"sourceType":"module"}