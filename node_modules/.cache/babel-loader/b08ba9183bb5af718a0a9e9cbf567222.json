{"ast":null,"code":"/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { isDateLike, isNumber } from '../../../services/predicate';\nimport { dateFormat as defaultDateFormat, dateGranularity } from './date_format'; // ESLint doesn't realise that we can import Moment directly.\n// eslint-disable-next-line import/named\n\nimport moment from 'moment';\nexport var DATE_TYPE = 'date';\nexport var dateValuesEqual = function dateValuesEqual(v1, v2) {\n  return v1.raw === v2.raw && v1.granularity === v2.granularity && v1.text === v2.text;\n};\nexport var isDateValue = function isDateValue(value) {\n  return !!value && value.type === DATE_TYPE && !!value.raw && !!value.text && !!value.resolve;\n};\nexport var dateValue = function dateValue(raw, granularity) {\n  var dateFormat = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultDateFormat;\n\n  if (!raw) {\n    return undefined;\n  }\n\n  if (isDateLike(raw)) {\n    var _dateValue = {\n      type: DATE_TYPE,\n      raw: raw,\n      granularity: granularity,\n      text: dateFormat.print(raw),\n      resolve: function resolve() {\n        return moment(raw);\n      }\n    };\n    return _dateValue;\n  }\n\n  if (isNumber(raw)) {\n    return {\n      type: DATE_TYPE,\n      raw: raw,\n      granularity: granularity,\n      text: raw.toString(),\n      resolve: function resolve() {\n        return moment(raw);\n      }\n    };\n  }\n\n  var text = raw.toString();\n  return {\n    type: DATE_TYPE,\n    raw: raw,\n    granularity: granularity,\n    text: text,\n    resolve: function resolve() {\n      return dateFormat.parse(text);\n    }\n  };\n};\nexport var dateValueParser = function dateValueParser() {\n  var format = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultDateFormat;\n  return function (text) {\n    var parsed = format.parse(text);\n    return dateValue(text, dateGranularity(parsed), format);\n  };\n};","map":{"version":3,"sources":["/home/nadaanbaalak/greendeck/client/node_modules/@elastic/eui/es/components/search_bar/query/date_value.js"],"names":["isDateLike","isNumber","dateFormat","defaultDateFormat","dateGranularity","moment","DATE_TYPE","dateValuesEqual","v1","v2","raw","granularity","text","isDateValue","value","type","resolve","dateValue","arguments","length","undefined","_dateValue","print","toString","parse","dateValueParser","format","parsed"],"mappings":"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","sourcesContent":["/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { isDateLike, isNumber } from '../../../services/predicate';\nimport { dateFormat as defaultDateFormat, dateGranularity } from './date_format'; // ESLint doesn't realise that we can import Moment directly.\n// eslint-disable-next-line import/named\n\nimport moment from 'moment';\nexport var DATE_TYPE = 'date';\nexport var dateValuesEqual = function dateValuesEqual(v1, v2) {\n  return v1.raw === v2.raw && v1.granularity === v2.granularity && v1.text === v2.text;\n};\nexport var isDateValue = function isDateValue(value) {\n  return !!value && value.type === DATE_TYPE && !!value.raw && !!value.text && !!value.resolve;\n};\nexport var dateValue = function dateValue(raw, granularity) {\n  var dateFormat = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultDateFormat;\n\n  if (!raw) {\n    return undefined;\n  }\n\n  if (isDateLike(raw)) {\n    var _dateValue = {\n      type: DATE_TYPE,\n      raw: raw,\n      granularity: granularity,\n      text: dateFormat.print(raw),\n      resolve: function resolve() {\n        return moment(raw);\n      }\n    };\n    return _dateValue;\n  }\n\n  if (isNumber(raw)) {\n    return {\n      type: DATE_TYPE,\n      raw: raw,\n      granularity: granularity,\n      text: raw.toString(),\n      resolve: function resolve() {\n        return moment(raw);\n      }\n    };\n  }\n\n  var text = raw.toString();\n  return {\n    type: DATE_TYPE,\n    raw: raw,\n    granularity: granularity,\n    text: text,\n    resolve: function resolve() {\n      return dateFormat.parse(text);\n    }\n  };\n};\nexport var dateValueParser = function dateValueParser() {\n  var format = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultDateFormat;\n  return function (text) {\n    var parsed = format.parse(text);\n    return dateValue(text, dateGranularity(parsed), format);\n  };\n};"]},"metadata":{},"sourceType":"module"}