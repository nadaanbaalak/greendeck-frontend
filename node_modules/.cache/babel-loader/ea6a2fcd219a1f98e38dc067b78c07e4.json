{"ast":null,"code":"function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\nimport React, { Component } from 'react';\nimport PropTypes from \"prop-types\";\nimport { isArray, isNil } from '../../../services/predicate';\nimport { keyCodes } from '../../../services';\nimport { EuiPopover, EuiPopoverTitle } from '../../popover';\nimport { EuiFieldSearch } from '../../form/field_search';\nimport { EuiFilterButton, EuiFilterSelectItem } from '../../filter_group';\nimport { EuiLoadingChart } from '../../loading';\nimport { EuiSpacer } from '../../spacer';\nimport { EuiIcon } from '../../icon';\nimport { Query } from '../query';\nvar defaults = {\n  config: {\n    multiSelect: true,\n    filterWith: 'prefix',\n    loadingMessage: 'Loading...',\n    noOptionsMessage: 'No options found',\n    searchThreshold: 10\n  }\n};\nexport var FieldValueSelectionFilter = /*#__PURE__*/function (_Component) {\n  _inherits(FieldValueSelectionFilter, _Component);\n\n  function FieldValueSelectionFilter(props) {\n    var _this;\n\n    _classCallCheck(this, FieldValueSelectionFilter);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FieldValueSelectionFilter).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"selectItems\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"searchInput\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"resolveOptionsLoader\", function () {\n      var options = _this.props.config.options;\n\n      if (isArray(options)) {\n        return function () {\n          return Promise.resolve(options);\n        };\n      }\n\n      return function () {\n        var cachedOptions = _this.state.cachedOptions;\n\n        if (cachedOptions) {\n          return Promise.resolve(cachedOptions);\n        }\n\n        return options().then(function (opts) {\n          // If a cache time is set, populate the cache and also schedule a\n          // cache reset.\n          if (_this.props.config.cache != null && _this.props.config.cache > 0) {\n            _this.setState({\n              cachedOptions: opts\n            });\n\n            setTimeout(function () {\n              _this.setState({\n                cachedOptions: null\n              });\n            }, _this.props.config.cache);\n          }\n\n          return opts;\n        });\n      };\n    });\n\n    var _options = props.config.options;\n    var preloadedOptions = isArray(_options) ? {\n      all: _options,\n      shown: _options\n    } : null;\n    _this.selectItems = [];\n    _this.state = {\n      popoverOpen: false,\n      error: null,\n      options: preloadedOptions\n    };\n    return _this;\n  }\n\n  _createClass(FieldValueSelectionFilter, [{\n    key: \"closePopover\",\n    value: function closePopover() {\n      this.setState({\n        popoverOpen: false\n      });\n    }\n  }, {\n    key: \"onButtonClick\",\n    value: function onButtonClick() {\n      var _this2 = this;\n\n      this.setState(function (prevState) {\n        if (!prevState.popoverOpen) {\n          // loading options updates the state, so we'll do that in the animation frame\n          window.requestAnimationFrame(function () {\n            _this2.loadOptions();\n          });\n        }\n\n        return {\n          options: null,\n          error: null,\n          popoverOpen: !prevState.popoverOpen\n        };\n      });\n    }\n  }, {\n    key: \"loadOptions\",\n    value: function loadOptions() {\n      var _this3 = this;\n\n      var loader = this.resolveOptionsLoader();\n      this.setState({\n        options: null,\n        error: null\n      });\n      loader().then(function (options) {\n        var items = {\n          on: [],\n          off: [],\n          rest: []\n        };\n        var _this3$props = _this3.props,\n            query = _this3$props.query,\n            config = _this3$props.config;\n\n        var multiSelect = _this3.resolveMultiSelect();\n\n        if (options) {\n          options.forEach(function (op) {\n            var optionField = op.field || config.field;\n\n            if (optionField) {\n              var clause = multiSelect === 'or' ? query.getOrFieldClause(optionField, op.value) : query.getSimpleFieldClause(optionField, op.value);\n\n              var checked = _this3.resolveChecked(clause);\n\n              if (!checked) {\n                items.rest.push(op);\n              } else if (checked === 'on') {\n                items.on.push(op);\n              } else {\n                items.off.push(op);\n              }\n            }\n\n            return;\n          });\n        }\n\n        _this3.setState({\n          error: null,\n          options: {\n            all: options,\n            shown: [].concat(_toConsumableArray(items.on), _toConsumableArray(items.off), _toConsumableArray(items.rest))\n          }\n        });\n      }).catch(function () {\n        _this3.setState({\n          options: null,\n          error: 'Could not load options'\n        });\n      });\n    }\n  }, {\n    key: \"filterOptions\",\n    value: function filterOptions() {\n      var _this4 = this;\n\n      var q = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      this.setState(function (prevState) {\n        if (isNil(prevState.options)) {\n          return {};\n        }\n\n        var predicate = _this4.getOptionFilter();\n\n        return _objectSpread({}, prevState, {\n          options: _objectSpread({}, prevState.options, {\n            shown: prevState.options.all.filter(function (option, i, options) {\n              var name = _this4.resolveOptionName(option).toLowerCase();\n\n              var query = q.toLowerCase();\n              return predicate(name, query, options);\n            })\n          })\n        });\n      });\n    }\n  }, {\n    key: \"getOptionFilter\",\n    value: function getOptionFilter() {\n      var filterWith = this.props.config.filterWith || defaults.config.filterWith;\n\n      if (typeof filterWith === 'function') {\n        return filterWith;\n      }\n\n      if (filterWith === 'includes') {\n        return function (name, query) {\n          return name.includes(query);\n        };\n      }\n\n      return function (name, query) {\n        return name.startsWith(query);\n      };\n    }\n  }, {\n    key: \"resolveOptionName\",\n    value: function resolveOptionName(option) {\n      return option.name || option.value.toString();\n    }\n  }, {\n    key: \"onOptionClick\",\n    value: function onOptionClick(field, value, checked) {\n      var multiSelect = this.resolveMultiSelect();\n      var _this$props$config$au = this.props.config.autoClose,\n          autoClose = _this$props$config$au === void 0 ? true : _this$props$config$au; // we're closing popover only if the user can only select one item... if the\n      // user can select more, we'll leave it open so she can continue selecting\n\n      if (!multiSelect && autoClose) {\n        this.closePopover();\n\n        var _query = checked ? this.props.query.removeSimpleFieldClauses(field) : this.props.query.removeSimpleFieldClauses(field).addSimpleFieldValue(field, value);\n\n        this.props.onChange(_query);\n      } else {\n        if (multiSelect === 'or') {\n          var _query2 = checked ? this.props.query.removeOrFieldValue(field, value) : this.props.query.addOrFieldValue(field, value);\n\n          this.props.onChange(_query2);\n        } else {\n          var _query3 = checked ? this.props.query.removeSimpleFieldValue(field, value) : this.props.query.addSimpleFieldValue(field, value);\n\n          this.props.onChange(_query3);\n        }\n      }\n    }\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(index, event) {\n      switch (event.keyCode) {\n        case keyCodes.DOWN:\n          if (index < this.selectItems.length - 1) {\n            event.preventDefault();\n            this.selectItems[index + 1].focus();\n          }\n\n          break;\n\n        case keyCodes.UP:\n          if (index < 0) {\n            return; // it's coming from the search box... nothing to do... nowhere to go\n          }\n\n          if (index === 0 && this.searchInput) {\n            event.preventDefault();\n            this.searchInput.focus();\n          } else if (index > 0) {\n            event.preventDefault();\n            this.selectItems[index - 1].focus();\n          }\n\n      }\n    }\n  }, {\n    key: \"resolveMultiSelect\",\n    value: function resolveMultiSelect() {\n      var config = this.props.config;\n      return !isNil(config.multiSelect) ? config.multiSelect : defaults.config.multiSelect;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var _this$props = this.props,\n          index = _this$props.index,\n          query = _this$props.query,\n          config = _this$props.config;\n      var multiSelect = this.resolveMultiSelect();\n      var activeTop = this.isActiveField(config.field);\n      var activeItem = this.state.options ? this.state.options.all.some(function (item) {\n        return _this5.isActiveField(item.field);\n      }) : false;\n      var active = activeTop || activeItem;\n      var button = React.createElement(EuiFilterButton, {\n        iconType: \"arrowDown\",\n        iconSide: \"right\",\n        onClick: this.onButtonClick.bind(this),\n        hasActiveFilters: active,\n        grow: true\n      }, config.name);\n      var searchBox = this.renderSearchBox();\n      var content = this.renderContent(config.field, query, config, multiSelect);\n      var threshold = this.props.config.searchThreshold || defaults.config.searchThreshold;\n      var withTitle = this.state.options != null && this.state.options.all.length >= threshold;\n      return React.createElement(EuiPopover, {\n        id: \"\".concat(config.type, \"_\").concat(index),\n        ownFocus: true,\n        button: button,\n        isOpen: this.state.popoverOpen,\n        closePopover: this.closePopover.bind(this),\n        panelPaddingSize: \"none\",\n        withTitle: withTitle,\n        anchorPosition: \"downCenter\",\n        panelClassName: \"euiFilterGroup__popoverPanel\"\n      }, searchBox, content);\n    }\n  }, {\n    key: \"renderSearchBox\",\n    value: function renderSearchBox() {\n      var _this6 = this;\n\n      var threshold = this.props.config.searchThreshold || defaults.config.searchThreshold;\n\n      if (this.state.options && this.state.options.all.length >= threshold) {\n        var disabled = this.state.error != null;\n        return React.createElement(EuiPopoverTitle, null, React.createElement(EuiFieldSearch, {\n          inputRef: function inputRef(ref) {\n            return _this6.searchInput = ref;\n          },\n          disabled: disabled,\n          incremental: true,\n          onSearch: function onSearch(query) {\n            return _this6.filterOptions(query);\n          },\n          onKeyDown: this.onKeyDown.bind(this, -1)\n        }));\n      }\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent(field, query, config, multiSelect) {\n      var _this7 = this;\n\n      if (this.state.error) {\n        return this.renderError(this.state.error);\n      }\n\n      if (isNil(this.state.options)) {\n        return this.renderLoader();\n      }\n\n      if (this.state.options.shown.length === 0) {\n        return this.renderNoOptions();\n      }\n\n      if (this.state.options == null) {\n        return;\n      }\n\n      var items = [];\n      this.state.options.shown.forEach(function (option, index) {\n        var optionField = option.field || field;\n\n        if (optionField == null) {\n          throw new Error('option.field or field should be provided in <FieldValueSelectionFilter/>');\n        }\n\n        var clause = multiSelect === 'or' ? query.getOrFieldClause(optionField, option.value) : query.getSimpleFieldClause(optionField, option.value);\n\n        var checked = _this7.resolveChecked(clause);\n\n        var onClick = function onClick() {\n          // clicking a checked item will uncheck it and effective remove the filter (value = undefined)\n          _this7.onOptionClick(optionField, option.value, checked);\n        };\n\n        var item = React.createElement(EuiFilterSelectItem, {\n          key: index,\n          checked: checked,\n          onClick: onClick,\n          ref: function ref(_ref) {\n            return _this7.selectItems[index] = _ref;\n          },\n          onKeyDown: _this7.onKeyDown.bind(_this7, index)\n        }, option.view ? option.view : _this7.resolveOptionName(option));\n        items.push(item);\n      });\n      return React.createElement(\"div\", {\n        className: \"euiFilterSelect__items\"\n      }, items);\n    }\n  }, {\n    key: \"resolveChecked\",\n    value: function resolveChecked(clause) {\n      if (clause) {\n        return Query.isMust(clause) ? 'on' : 'off';\n      }\n    }\n  }, {\n    key: \"renderLoader\",\n    value: function renderLoader() {\n      var message = this.props.config.loadingMessage || defaults.config.loadingMessage;\n      return React.createElement(\"div\", {\n        className: \"euiFilterSelect__note\"\n      }, React.createElement(\"div\", {\n        className: \"euiFilterSelect__noteContent\"\n      }, React.createElement(EuiLoadingChart, {\n        size: \"m\"\n      }), React.createElement(EuiSpacer, {\n        size: \"xs\"\n      }), React.createElement(\"p\", null, message)));\n    }\n  }, {\n    key: \"renderError\",\n    value: function renderError(message) {\n      return React.createElement(\"div\", {\n        className: \"euiFilterSelect__note\"\n      }, React.createElement(\"div\", {\n        className: \"euiFilterSelect__noteContent\"\n      }, React.createElement(EuiIcon, {\n        size: \"m\",\n        type: \"faceSad\",\n        color: \"danger\"\n      }), React.createElement(EuiSpacer, {\n        size: \"xs\"\n      }), React.createElement(\"p\", null, message)));\n    }\n  }, {\n    key: \"renderNoOptions\",\n    value: function renderNoOptions() {\n      var message = this.props.config.noOptionsMessage || defaults.config.noOptionsMessage;\n      return React.createElement(\"div\", {\n        className: \"euiFilterSelect__note\"\n      }, React.createElement(\"div\", {\n        className: \"euiFilterSelect__noteContent\"\n      }, React.createElement(EuiIcon, {\n        type: \"minusInCircle\"\n      }), React.createElement(EuiSpacer, {\n        size: \"xs\"\n      }), React.createElement(\"p\", null, message)));\n    }\n  }, {\n    key: \"isActiveField\",\n    value: function isActiveField(field) {\n      if (typeof field !== 'string') {\n        return false;\n      }\n\n      var query = this.props.query;\n      var multiSelect = this.resolveMultiSelect();\n\n      if (multiSelect === 'or') {\n        return query.hasOrFieldClause(field);\n      }\n\n      return query.hasSimpleFieldClause(field);\n    }\n  }]);\n\n  return FieldValueSelectionFilter;\n}(Component);\nFieldValueSelectionFilter.propTypes = {\n  index: PropTypes.number.isRequired,\n  config: PropTypes.shape({\n    type: PropTypes.oneOf([\"field_value_selection\"]).isRequired,\n    field: PropTypes.string,\n    name: PropTypes.string.isRequired,\n    options: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.shape({\n      field: PropTypes.string,\n      value: PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.number.isRequired, PropTypes.bool.isRequired, PropTypes.shape({\n        type: PropTypes.oneOf([\"date\"]).isRequired,\n        raw: PropTypes.any.isRequired,\n        granularity: PropTypes.oneOfType([PropTypes.shape({\n          es: PropTypes.oneOf([\"d\", \"w\", \"M\", \"y\"]).isRequired,\n          js: PropTypes.oneOf([\"day\", \"week\", \"month\", \"year\"]).isRequired,\n          isSame: PropTypes.func.isRequired,\n          start: PropTypes.func.isRequired,\n          startOfNext: PropTypes.func.isRequired,\n          iso8601: PropTypes.func.isRequired\n        }).isRequired, PropTypes.oneOf([undefined])]).isRequired,\n        text: PropTypes.string.isRequired,\n        resolve: PropTypes.func.isRequired\n      }).isRequired]).isRequired,\n      name: PropTypes.string,\n      view: PropTypes.node\n    }).isRequired).isRequired, PropTypes.func.isRequired]).isRequired,\n    filterWith: PropTypes.oneOfType([PropTypes.oneOf([\"prefix\", \"includes\"]), PropTypes.func.isRequired]),\n    cache: PropTypes.number,\n    multiSelect: PropTypes.oneOfType([PropTypes.bool.isRequired, PropTypes.oneOf([\"and\", \"or\"])]),\n    loadingMessage: PropTypes.string,\n    noOptionsMessage: PropTypes.string,\n    searchThreshold: PropTypes.number,\n    available: PropTypes.func,\n    autoClose: PropTypes.bool\n  }).isRequired,\n  query: PropTypes.any.isRequired,\n  onChange: PropTypes.func.isRequired\n};\nFieldValueSelectionFilter.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [{\n    \"name\": \"closePopover\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onButtonClick\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"loadOptions\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"filterOptions\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"q\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"getOptionFilter\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"resolveOptionsLoader\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"resolveOptionName\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"option\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onOptionClick\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"field\",\n      \"type\": null\n    }, {\n      \"name\": \"value\",\n      \"type\": null\n    }, {\n      \"name\": \"checked\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onKeyDown\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"index\",\n      \"type\": null\n    }, {\n      \"name\": \"event\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"resolveMultiSelect\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"renderSearchBox\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"renderContent\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"field\",\n      \"type\": null\n    }, {\n      \"name\": \"query\",\n      \"type\": null\n    }, {\n      \"name\": \"config\",\n      \"type\": null\n    }, {\n      \"name\": \"multiSelect\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"resolveChecked\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"clause\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"renderLoader\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"renderError\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"message\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"renderNoOptions\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"isActiveField\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"field\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }],\n  \"displayName\": \"FieldValueSelectionFilter\",\n  \"props\": {\n    \"index\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"config\": {\n      \"type\": {\n        \"name\": \"shape\",\n        \"value\": {\n          \"type\": {\n            \"name\": \"enum\",\n            \"value\": [{\n              \"value\": \"\\\"field_value_selection\\\"\",\n              \"computed\": false\n            }],\n            \"required\": true\n          },\n          \"field\": {\n            \"name\": \"string\",\n            \"required\": false\n          },\n          \"name\": {\n            \"name\": \"string\",\n            \"required\": true\n          },\n          \"options\": {\n            \"name\": \"union\",\n            \"value\": [{\n              \"name\": \"arrayOf\",\n              \"value\": {\n                \"name\": \"shape\",\n                \"value\": {\n                  \"field\": {\n                    \"name\": \"string\",\n                    \"required\": false\n                  },\n                  \"value\": {\n                    \"name\": \"union\",\n                    \"value\": [{\n                      \"name\": \"string\"\n                    }, {\n                      \"name\": \"number\"\n                    }, {\n                      \"name\": \"bool\"\n                    }, {\n                      \"name\": \"shape\",\n                      \"value\": {\n                        \"type\": {\n                          \"name\": \"enum\",\n                          \"value\": [{\n                            \"value\": \"\\\"date\\\"\",\n                            \"computed\": false\n                          }],\n                          \"required\": true\n                        },\n                        \"raw\": {\n                          \"name\": \"any\",\n                          \"required\": true\n                        },\n                        \"granularity\": {\n                          \"name\": \"union\",\n                          \"value\": [{\n                            \"name\": \"shape\",\n                            \"value\": {\n                              \"es\": {\n                                \"name\": \"enum\",\n                                \"value\": [{\n                                  \"value\": \"\\\"d\\\"\",\n                                  \"computed\": false\n                                }, {\n                                  \"value\": \"\\\"w\\\"\",\n                                  \"computed\": false\n                                }, {\n                                  \"value\": \"\\\"M\\\"\",\n                                  \"computed\": false\n                                }, {\n                                  \"value\": \"\\\"y\\\"\",\n                                  \"computed\": false\n                                }],\n                                \"required\": true\n                              },\n                              \"js\": {\n                                \"name\": \"enum\",\n                                \"value\": [{\n                                  \"value\": \"\\\"day\\\"\",\n                                  \"computed\": false\n                                }, {\n                                  \"value\": \"\\\"week\\\"\",\n                                  \"computed\": false\n                                }, {\n                                  \"value\": \"\\\"month\\\"\",\n                                  \"computed\": false\n                                }, {\n                                  \"value\": \"\\\"year\\\"\",\n                                  \"computed\": false\n                                }],\n                                \"required\": true\n                              },\n                              \"isSame\": {\n                                \"name\": \"func\",\n                                \"required\": true\n                              },\n                              \"start\": {\n                                \"name\": \"func\",\n                                \"required\": true\n                              },\n                              \"startOfNext\": {\n                                \"name\": \"func\",\n                                \"required\": true\n                              },\n                              \"iso8601\": {\n                                \"name\": \"func\",\n                                \"required\": true\n                              }\n                            }\n                          }, {\n                            \"name\": \"enum\",\n                            \"value\": [{\n                              \"value\": \"undefined\",\n                              \"computed\": true\n                            }]\n                          }],\n                          \"required\": true\n                        },\n                        \"text\": {\n                          \"name\": \"string\",\n                          \"required\": true\n                        },\n                        \"resolve\": {\n                          \"name\": \"func\",\n                          \"required\": true\n                        }\n                      }\n                    }],\n                    \"required\": true\n                  },\n                  \"name\": {\n                    \"name\": \"string\",\n                    \"required\": false\n                  },\n                  \"view\": {\n                    \"name\": \"node\",\n                    \"required\": false\n                  }\n                }\n              }\n            }, {\n              \"name\": \"func\"\n            }],\n            \"required\": true\n          },\n          \"filterWith\": {\n            \"name\": \"union\",\n            \"value\": [{\n              \"name\": \"enum\",\n              \"value\": [{\n                \"value\": \"\\\"prefix\\\"\",\n                \"computed\": false\n              }, {\n                \"value\": \"\\\"includes\\\"\",\n                \"computed\": false\n              }]\n            }, {\n              \"name\": \"func\"\n            }],\n            \"required\": false\n          },\n          \"cache\": {\n            \"name\": \"number\",\n            \"required\": false\n          },\n          \"multiSelect\": {\n            \"name\": \"union\",\n            \"value\": [{\n              \"name\": \"bool\"\n            }, {\n              \"name\": \"enum\",\n              \"value\": [{\n                \"value\": \"\\\"and\\\"\",\n                \"computed\": false\n              }, {\n                \"value\": \"\\\"or\\\"\",\n                \"computed\": false\n              }]\n            }],\n            \"required\": false\n          },\n          \"loadingMessage\": {\n            \"name\": \"string\",\n            \"required\": false\n          },\n          \"noOptionsMessage\": {\n            \"name\": \"string\",\n            \"required\": false\n          },\n          \"searchThreshold\": {\n            \"name\": \"number\",\n            \"required\": false\n          },\n          \"available\": {\n            \"name\": \"func\",\n            \"required\": false\n          },\n          \"autoClose\": {\n            \"name\": \"bool\",\n            \"required\": false\n          }\n        }\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"query\": {\n      \"type\": {\n        \"name\": \"any\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"onChange\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    }\n  }\n};","map":{"version":3,"sources":["/home/nadaanbaalak/greendeck/client/node_modules/@elastic/eui/es/components/search_bar/filters/field_value_selection_filter.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","toString","call","Array","from","isArray","arr2","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","value","_setPrototypeOf","p","React","Component","PropTypes","isNil","keyCodes","EuiPopover","EuiPopoverTitle","EuiFieldSearch","EuiFilterButton","EuiFilterSelectItem","EuiLoadingChart","EuiSpacer","EuiIcon","Query","defaults","config","multiSelect","filterWith","loadingMessage","noOptionsMessage","searchThreshold","FieldValueSelectionFilter","_Component","_this","options","Promise","resolve","cachedOptions","state","then","opts","cache","setState","setTimeout","_options","preloadedOptions","all","shown","selectItems","popoverOpen","error","closePopover","onButtonClick","_this2","prevState","window","requestAnimationFrame","loadOptions","_this3","loader","resolveOptionsLoader","items","on","off","rest","_this3$props","query","resolveMultiSelect","op","optionField","field","clause","getOrFieldClause","getSimpleFieldClause","checked","resolveChecked","concat","catch","filterOptions","_this4","q","undefined","predicate","getOptionFilter","option","name","resolveOptionName","toLowerCase","includes","startsWith","onOptionClick","_this$props$config$au","autoClose","_query","removeSimpleFieldClauses","addSimpleFieldValue","onChange","_query2","removeOrFieldValue","addOrFieldValue","_query3","removeSimpleFieldValue","onKeyDown","index","event","keyCode","DOWN","preventDefault","focus","UP","searchInput","render","_this5","_this$props","activeTop","isActiveField","activeItem","some","item","active","button","createElement","iconType","iconSide","onClick","bind","hasActiveFilters","grow","searchBox","renderSearchBox","content","renderContent","threshold","withTitle","id","type","ownFocus","isOpen","panelPaddingSize","anchorPosition","panelClassName","_this6","disabled","inputRef","ref","incremental","onSearch","_this7","renderError","renderLoader","renderNoOptions","Error","_ref","view","className","isMust","message","size","color","hasOrFieldClause","hasSimpleFieldClause","propTypes","number","isRequired","shape","oneOf","string","oneOfType","arrayOf","bool","raw","any","granularity","es","js","isSame","func","start","startOfNext","iso8601","text","node","available","__docgenInfo"],"mappings":"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","sourcesContent":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { Component } from 'react';\nimport PropTypes from \"prop-types\";\nimport { isArray, isNil } from '../../../services/predicate';\nimport { keyCodes } from '../../../services';\nimport { EuiPopover, EuiPopoverTitle } from '../../popover';\nimport { EuiFieldSearch } from '../../form/field_search';\nimport { EuiFilterButton, EuiFilterSelectItem } from '../../filter_group';\nimport { EuiLoadingChart } from '../../loading';\nimport { EuiSpacer } from '../../spacer';\nimport { EuiIcon } from '../../icon';\nimport { Query } from '../query';\nvar defaults = {\n  config: {\n    multiSelect: true,\n    filterWith: 'prefix',\n    loadingMessage: 'Loading...',\n    noOptionsMessage: 'No options found',\n    searchThreshold: 10\n  }\n};\nexport var FieldValueSelectionFilter =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FieldValueSelectionFilter, _Component);\n\n  function FieldValueSelectionFilter(props) {\n    var _this;\n\n    _classCallCheck(this, FieldValueSelectionFilter);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FieldValueSelectionFilter).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"selectItems\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"searchInput\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"resolveOptionsLoader\", function () {\n      var options = _this.props.config.options;\n\n      if (isArray(options)) {\n        return function () {\n          return Promise.resolve(options);\n        };\n      }\n\n      return function () {\n        var cachedOptions = _this.state.cachedOptions;\n\n        if (cachedOptions) {\n          return Promise.resolve(cachedOptions);\n        }\n\n        return options().then(function (opts) {\n          // If a cache time is set, populate the cache and also schedule a\n          // cache reset.\n          if (_this.props.config.cache != null && _this.props.config.cache > 0) {\n            _this.setState({\n              cachedOptions: opts\n            });\n\n            setTimeout(function () {\n              _this.setState({\n                cachedOptions: null\n              });\n            }, _this.props.config.cache);\n          }\n\n          return opts;\n        });\n      };\n    });\n\n    var _options = props.config.options;\n    var preloadedOptions = isArray(_options) ? {\n      all: _options,\n      shown: _options\n    } : null;\n    _this.selectItems = [];\n    _this.state = {\n      popoverOpen: false,\n      error: null,\n      options: preloadedOptions\n    };\n    return _this;\n  }\n\n  _createClass(FieldValueSelectionFilter, [{\n    key: \"closePopover\",\n    value: function closePopover() {\n      this.setState({\n        popoverOpen: false\n      });\n    }\n  }, {\n    key: \"onButtonClick\",\n    value: function onButtonClick() {\n      var _this2 = this;\n\n      this.setState(function (prevState) {\n        if (!prevState.popoverOpen) {\n          // loading options updates the state, so we'll do that in the animation frame\n          window.requestAnimationFrame(function () {\n            _this2.loadOptions();\n          });\n        }\n\n        return {\n          options: null,\n          error: null,\n          popoverOpen: !prevState.popoverOpen\n        };\n      });\n    }\n  }, {\n    key: \"loadOptions\",\n    value: function loadOptions() {\n      var _this3 = this;\n\n      var loader = this.resolveOptionsLoader();\n      this.setState({\n        options: null,\n        error: null\n      });\n      loader().then(function (options) {\n        var items = {\n          on: [],\n          off: [],\n          rest: []\n        };\n        var _this3$props = _this3.props,\n            query = _this3$props.query,\n            config = _this3$props.config;\n\n        var multiSelect = _this3.resolveMultiSelect();\n\n        if (options) {\n          options.forEach(function (op) {\n            var optionField = op.field || config.field;\n\n            if (optionField) {\n              var clause = multiSelect === 'or' ? query.getOrFieldClause(optionField, op.value) : query.getSimpleFieldClause(optionField, op.value);\n\n              var checked = _this3.resolveChecked(clause);\n\n              if (!checked) {\n                items.rest.push(op);\n              } else if (checked === 'on') {\n                items.on.push(op);\n              } else {\n                items.off.push(op);\n              }\n            }\n\n            return;\n          });\n        }\n\n        _this3.setState({\n          error: null,\n          options: {\n            all: options,\n            shown: [].concat(_toConsumableArray(items.on), _toConsumableArray(items.off), _toConsumableArray(items.rest))\n          }\n        });\n      }).catch(function () {\n        _this3.setState({\n          options: null,\n          error: 'Could not load options'\n        });\n      });\n    }\n  }, {\n    key: \"filterOptions\",\n    value: function filterOptions() {\n      var _this4 = this;\n\n      var q = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      this.setState(function (prevState) {\n        if (isNil(prevState.options)) {\n          return {};\n        }\n\n        var predicate = _this4.getOptionFilter();\n\n        return _objectSpread({}, prevState, {\n          options: _objectSpread({}, prevState.options, {\n            shown: prevState.options.all.filter(function (option, i, options) {\n              var name = _this4.resolveOptionName(option).toLowerCase();\n\n              var query = q.toLowerCase();\n              return predicate(name, query, options);\n            })\n          })\n        });\n      });\n    }\n  }, {\n    key: \"getOptionFilter\",\n    value: function getOptionFilter() {\n      var filterWith = this.props.config.filterWith || defaults.config.filterWith;\n\n      if (typeof filterWith === 'function') {\n        return filterWith;\n      }\n\n      if (filterWith === 'includes') {\n        return function (name, query) {\n          return name.includes(query);\n        };\n      }\n\n      return function (name, query) {\n        return name.startsWith(query);\n      };\n    }\n  }, {\n    key: \"resolveOptionName\",\n    value: function resolveOptionName(option) {\n      return option.name || option.value.toString();\n    }\n  }, {\n    key: \"onOptionClick\",\n    value: function onOptionClick(field, value, checked) {\n      var multiSelect = this.resolveMultiSelect();\n      var _this$props$config$au = this.props.config.autoClose,\n          autoClose = _this$props$config$au === void 0 ? true : _this$props$config$au; // we're closing popover only if the user can only select one item... if the\n      // user can select more, we'll leave it open so she can continue selecting\n\n      if (!multiSelect && autoClose) {\n        this.closePopover();\n\n        var _query = checked ? this.props.query.removeSimpleFieldClauses(field) : this.props.query.removeSimpleFieldClauses(field).addSimpleFieldValue(field, value);\n\n        this.props.onChange(_query);\n      } else {\n        if (multiSelect === 'or') {\n          var _query2 = checked ? this.props.query.removeOrFieldValue(field, value) : this.props.query.addOrFieldValue(field, value);\n\n          this.props.onChange(_query2);\n        } else {\n          var _query3 = checked ? this.props.query.removeSimpleFieldValue(field, value) : this.props.query.addSimpleFieldValue(field, value);\n\n          this.props.onChange(_query3);\n        }\n      }\n    }\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(index, event) {\n      switch (event.keyCode) {\n        case keyCodes.DOWN:\n          if (index < this.selectItems.length - 1) {\n            event.preventDefault();\n            this.selectItems[index + 1].focus();\n          }\n\n          break;\n\n        case keyCodes.UP:\n          if (index < 0) {\n            return; // it's coming from the search box... nothing to do... nowhere to go\n          }\n\n          if (index === 0 && this.searchInput) {\n            event.preventDefault();\n            this.searchInput.focus();\n          } else if (index > 0) {\n            event.preventDefault();\n            this.selectItems[index - 1].focus();\n          }\n\n      }\n    }\n  }, {\n    key: \"resolveMultiSelect\",\n    value: function resolveMultiSelect() {\n      var config = this.props.config;\n      return !isNil(config.multiSelect) ? config.multiSelect : defaults.config.multiSelect;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var _this$props = this.props,\n          index = _this$props.index,\n          query = _this$props.query,\n          config = _this$props.config;\n      var multiSelect = this.resolveMultiSelect();\n      var activeTop = this.isActiveField(config.field);\n      var activeItem = this.state.options ? this.state.options.all.some(function (item) {\n        return _this5.isActiveField(item.field);\n      }) : false;\n      var active = activeTop || activeItem;\n      var button = React.createElement(EuiFilterButton, {\n        iconType: \"arrowDown\",\n        iconSide: \"right\",\n        onClick: this.onButtonClick.bind(this),\n        hasActiveFilters: active,\n        grow: true\n      }, config.name);\n      var searchBox = this.renderSearchBox();\n      var content = this.renderContent(config.field, query, config, multiSelect);\n      var threshold = this.props.config.searchThreshold || defaults.config.searchThreshold;\n      var withTitle = this.state.options != null && this.state.options.all.length >= threshold;\n      return React.createElement(EuiPopover, {\n        id: \"\".concat(config.type, \"_\").concat(index),\n        ownFocus: true,\n        button: button,\n        isOpen: this.state.popoverOpen,\n        closePopover: this.closePopover.bind(this),\n        panelPaddingSize: \"none\",\n        withTitle: withTitle,\n        anchorPosition: \"downCenter\",\n        panelClassName: \"euiFilterGroup__popoverPanel\"\n      }, searchBox, content);\n    }\n  }, {\n    key: \"renderSearchBox\",\n    value: function renderSearchBox() {\n      var _this6 = this;\n\n      var threshold = this.props.config.searchThreshold || defaults.config.searchThreshold;\n\n      if (this.state.options && this.state.options.all.length >= threshold) {\n        var disabled = this.state.error != null;\n        return React.createElement(EuiPopoverTitle, null, React.createElement(EuiFieldSearch, {\n          inputRef: function inputRef(ref) {\n            return _this6.searchInput = ref;\n          },\n          disabled: disabled,\n          incremental: true,\n          onSearch: function onSearch(query) {\n            return _this6.filterOptions(query);\n          },\n          onKeyDown: this.onKeyDown.bind(this, -1)\n        }));\n      }\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent(field, query, config, multiSelect) {\n      var _this7 = this;\n\n      if (this.state.error) {\n        return this.renderError(this.state.error);\n      }\n\n      if (isNil(this.state.options)) {\n        return this.renderLoader();\n      }\n\n      if (this.state.options.shown.length === 0) {\n        return this.renderNoOptions();\n      }\n\n      if (this.state.options == null) {\n        return;\n      }\n\n      var items = [];\n      this.state.options.shown.forEach(function (option, index) {\n        var optionField = option.field || field;\n\n        if (optionField == null) {\n          throw new Error('option.field or field should be provided in <FieldValueSelectionFilter/>');\n        }\n\n        var clause = multiSelect === 'or' ? query.getOrFieldClause(optionField, option.value) : query.getSimpleFieldClause(optionField, option.value);\n\n        var checked = _this7.resolveChecked(clause);\n\n        var onClick = function onClick() {\n          // clicking a checked item will uncheck it and effective remove the filter (value = undefined)\n          _this7.onOptionClick(optionField, option.value, checked);\n        };\n\n        var item = React.createElement(EuiFilterSelectItem, {\n          key: index,\n          checked: checked,\n          onClick: onClick,\n          ref: function ref(_ref) {\n            return _this7.selectItems[index] = _ref;\n          },\n          onKeyDown: _this7.onKeyDown.bind(_this7, index)\n        }, option.view ? option.view : _this7.resolveOptionName(option));\n        items.push(item);\n      });\n      return React.createElement(\"div\", {\n        className: \"euiFilterSelect__items\"\n      }, items);\n    }\n  }, {\n    key: \"resolveChecked\",\n    value: function resolveChecked(clause) {\n      if (clause) {\n        return Query.isMust(clause) ? 'on' : 'off';\n      }\n    }\n  }, {\n    key: \"renderLoader\",\n    value: function renderLoader() {\n      var message = this.props.config.loadingMessage || defaults.config.loadingMessage;\n      return React.createElement(\"div\", {\n        className: \"euiFilterSelect__note\"\n      }, React.createElement(\"div\", {\n        className: \"euiFilterSelect__noteContent\"\n      }, React.createElement(EuiLoadingChart, {\n        size: \"m\"\n      }), React.createElement(EuiSpacer, {\n        size: \"xs\"\n      }), React.createElement(\"p\", null, message)));\n    }\n  }, {\n    key: \"renderError\",\n    value: function renderError(message) {\n      return React.createElement(\"div\", {\n        className: \"euiFilterSelect__note\"\n      }, React.createElement(\"div\", {\n        className: \"euiFilterSelect__noteContent\"\n      }, React.createElement(EuiIcon, {\n        size: \"m\",\n        type: \"faceSad\",\n        color: \"danger\"\n      }), React.createElement(EuiSpacer, {\n        size: \"xs\"\n      }), React.createElement(\"p\", null, message)));\n    }\n  }, {\n    key: \"renderNoOptions\",\n    value: function renderNoOptions() {\n      var message = this.props.config.noOptionsMessage || defaults.config.noOptionsMessage;\n      return React.createElement(\"div\", {\n        className: \"euiFilterSelect__note\"\n      }, React.createElement(\"div\", {\n        className: \"euiFilterSelect__noteContent\"\n      }, React.createElement(EuiIcon, {\n        type: \"minusInCircle\"\n      }), React.createElement(EuiSpacer, {\n        size: \"xs\"\n      }), React.createElement(\"p\", null, message)));\n    }\n  }, {\n    key: \"isActiveField\",\n    value: function isActiveField(field) {\n      if (typeof field !== 'string') {\n        return false;\n      }\n\n      var query = this.props.query;\n      var multiSelect = this.resolveMultiSelect();\n\n      if (multiSelect === 'or') {\n        return query.hasOrFieldClause(field);\n      }\n\n      return query.hasSimpleFieldClause(field);\n    }\n  }]);\n\n  return FieldValueSelectionFilter;\n}(Component);\nFieldValueSelectionFilter.propTypes = {\n  index: PropTypes.number.isRequired,\n  config: PropTypes.shape({\n    type: PropTypes.oneOf([\"field_value_selection\"]).isRequired,\n    field: PropTypes.string,\n    name: PropTypes.string.isRequired,\n    options: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.shape({\n      field: PropTypes.string,\n      value: PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.number.isRequired, PropTypes.bool.isRequired, PropTypes.shape({\n        type: PropTypes.oneOf([\"date\"]).isRequired,\n        raw: PropTypes.any.isRequired,\n        granularity: PropTypes.oneOfType([PropTypes.shape({\n          es: PropTypes.oneOf([\"d\", \"w\", \"M\", \"y\"]).isRequired,\n          js: PropTypes.oneOf([\"day\", \"week\", \"month\", \"year\"]).isRequired,\n          isSame: PropTypes.func.isRequired,\n          start: PropTypes.func.isRequired,\n          startOfNext: PropTypes.func.isRequired,\n          iso8601: PropTypes.func.isRequired\n        }).isRequired, PropTypes.oneOf([undefined])]).isRequired,\n        text: PropTypes.string.isRequired,\n        resolve: PropTypes.func.isRequired\n      }).isRequired]).isRequired,\n      name: PropTypes.string,\n      view: PropTypes.node\n    }).isRequired).isRequired, PropTypes.func.isRequired]).isRequired,\n    filterWith: PropTypes.oneOfType([PropTypes.oneOf([\"prefix\", \"includes\"]), PropTypes.func.isRequired]),\n    cache: PropTypes.number,\n    multiSelect: PropTypes.oneOfType([PropTypes.bool.isRequired, PropTypes.oneOf([\"and\", \"or\"])]),\n    loadingMessage: PropTypes.string,\n    noOptionsMessage: PropTypes.string,\n    searchThreshold: PropTypes.number,\n    available: PropTypes.func,\n    autoClose: PropTypes.bool\n  }).isRequired,\n  query: PropTypes.any.isRequired,\n  onChange: PropTypes.func.isRequired\n};\nFieldValueSelectionFilter.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [{\n    \"name\": \"closePopover\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onButtonClick\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"loadOptions\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"filterOptions\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"q\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"getOptionFilter\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"resolveOptionsLoader\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"resolveOptionName\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"option\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onOptionClick\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"field\",\n      \"type\": null\n    }, {\n      \"name\": \"value\",\n      \"type\": null\n    }, {\n      \"name\": \"checked\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onKeyDown\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"index\",\n      \"type\": null\n    }, {\n      \"name\": \"event\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"resolveMultiSelect\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"renderSearchBox\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"renderContent\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"field\",\n      \"type\": null\n    }, {\n      \"name\": \"query\",\n      \"type\": null\n    }, {\n      \"name\": \"config\",\n      \"type\": null\n    }, {\n      \"name\": \"multiSelect\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"resolveChecked\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"clause\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"renderLoader\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"renderError\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"message\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"renderNoOptions\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"isActiveField\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"field\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }],\n  \"displayName\": \"FieldValueSelectionFilter\",\n  \"props\": {\n    \"index\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"config\": {\n      \"type\": {\n        \"name\": \"shape\",\n        \"value\": {\n          \"type\": {\n            \"name\": \"enum\",\n            \"value\": [{\n              \"value\": \"\\\"field_value_selection\\\"\",\n              \"computed\": false\n            }],\n            \"required\": true\n          },\n          \"field\": {\n            \"name\": \"string\",\n            \"required\": false\n          },\n          \"name\": {\n            \"name\": \"string\",\n            \"required\": true\n          },\n          \"options\": {\n            \"name\": \"union\",\n            \"value\": [{\n              \"name\": \"arrayOf\",\n              \"value\": {\n                \"name\": \"shape\",\n                \"value\": {\n                  \"field\": {\n                    \"name\": \"string\",\n                    \"required\": false\n                  },\n                  \"value\": {\n                    \"name\": \"union\",\n                    \"value\": [{\n                      \"name\": \"string\"\n                    }, {\n                      \"name\": \"number\"\n                    }, {\n                      \"name\": \"bool\"\n                    }, {\n                      \"name\": \"shape\",\n                      \"value\": {\n                        \"type\": {\n                          \"name\": \"enum\",\n                          \"value\": [{\n                            \"value\": \"\\\"date\\\"\",\n                            \"computed\": false\n                          }],\n                          \"required\": true\n                        },\n                        \"raw\": {\n                          \"name\": \"any\",\n                          \"required\": true\n                        },\n                        \"granularity\": {\n                          \"name\": \"union\",\n                          \"value\": [{\n                            \"name\": \"shape\",\n                            \"value\": {\n                              \"es\": {\n                                \"name\": \"enum\",\n                                \"value\": [{\n                                  \"value\": \"\\\"d\\\"\",\n                                  \"computed\": false\n                                }, {\n                                  \"value\": \"\\\"w\\\"\",\n                                  \"computed\": false\n                                }, {\n                                  \"value\": \"\\\"M\\\"\",\n                                  \"computed\": false\n                                }, {\n                                  \"value\": \"\\\"y\\\"\",\n                                  \"computed\": false\n                                }],\n                                \"required\": true\n                              },\n                              \"js\": {\n                                \"name\": \"enum\",\n                                \"value\": [{\n                                  \"value\": \"\\\"day\\\"\",\n                                  \"computed\": false\n                                }, {\n                                  \"value\": \"\\\"week\\\"\",\n                                  \"computed\": false\n                                }, {\n                                  \"value\": \"\\\"month\\\"\",\n                                  \"computed\": false\n                                }, {\n                                  \"value\": \"\\\"year\\\"\",\n                                  \"computed\": false\n                                }],\n                                \"required\": true\n                              },\n                              \"isSame\": {\n                                \"name\": \"func\",\n                                \"required\": true\n                              },\n                              \"start\": {\n                                \"name\": \"func\",\n                                \"required\": true\n                              },\n                              \"startOfNext\": {\n                                \"name\": \"func\",\n                                \"required\": true\n                              },\n                              \"iso8601\": {\n                                \"name\": \"func\",\n                                \"required\": true\n                              }\n                            }\n                          }, {\n                            \"name\": \"enum\",\n                            \"value\": [{\n                              \"value\": \"undefined\",\n                              \"computed\": true\n                            }]\n                          }],\n                          \"required\": true\n                        },\n                        \"text\": {\n                          \"name\": \"string\",\n                          \"required\": true\n                        },\n                        \"resolve\": {\n                          \"name\": \"func\",\n                          \"required\": true\n                        }\n                      }\n                    }],\n                    \"required\": true\n                  },\n                  \"name\": {\n                    \"name\": \"string\",\n                    \"required\": false\n                  },\n                  \"view\": {\n                    \"name\": \"node\",\n                    \"required\": false\n                  }\n                }\n              }\n            }, {\n              \"name\": \"func\"\n            }],\n            \"required\": true\n          },\n          \"filterWith\": {\n            \"name\": \"union\",\n            \"value\": [{\n              \"name\": \"enum\",\n              \"value\": [{\n                \"value\": \"\\\"prefix\\\"\",\n                \"computed\": false\n              }, {\n                \"value\": \"\\\"includes\\\"\",\n                \"computed\": false\n              }]\n            }, {\n              \"name\": \"func\"\n            }],\n            \"required\": false\n          },\n          \"cache\": {\n            \"name\": \"number\",\n            \"required\": false\n          },\n          \"multiSelect\": {\n            \"name\": \"union\",\n            \"value\": [{\n              \"name\": \"bool\"\n            }, {\n              \"name\": \"enum\",\n              \"value\": [{\n                \"value\": \"\\\"and\\\"\",\n                \"computed\": false\n              }, {\n                \"value\": \"\\\"or\\\"\",\n                \"computed\": false\n              }]\n            }],\n            \"required\": false\n          },\n          \"loadingMessage\": {\n            \"name\": \"string\",\n            \"required\": false\n          },\n          \"noOptionsMessage\": {\n            \"name\": \"string\",\n            \"required\": false\n          },\n          \"searchThreshold\": {\n            \"name\": \"number\",\n            \"required\": false\n          },\n          \"available\": {\n            \"name\": \"func\",\n            \"required\": false\n          },\n          \"autoClose\": {\n            \"name\": \"bool\",\n            \"required\": false\n          }\n        }\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"query\": {\n      \"type\": {\n        \"name\": \"any\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"onChange\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    }\n  }\n};"]},"metadata":{},"sourceType":"module"}