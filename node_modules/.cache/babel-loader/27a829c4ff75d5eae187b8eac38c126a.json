{"ast":null,"code":"function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport PropTypes from \"prop-types\";\nimport classnames from 'classnames';\nimport { keyCodes } from '../../services';\nimport tabbable from 'tabbable';\nexport var EuiDataGridControlHeaderCell = function EuiDataGridControlHeaderCell(props) {\n  var controlColumn = props.controlColumn,\n      index = props.index,\n      focusedCell = props.focusedCell,\n      setFocusedCell = props.setFocusedCell,\n      headerIsInteractive = props.headerIsInteractive,\n      className = props.className;\n  var HeaderCellRender = controlColumn.headerCellRender,\n      width = controlColumn.width,\n      id = controlColumn.id;\n  var classes = classnames('euiDataGridHeaderCell', className);\n  var headerRef = useRef(null);\n  var isFocused = focusedCell != null && focusedCell[0] === index && focusedCell[1] === -1;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isCellEntered = _useState2[0],\n      setIsCellEntered = _useState2[1];\n\n  useEffect(function () {\n    if (headerRef.current) {\n      var enableInteractives = function enableInteractives() {\n        var interactiveElements = headerRef.current.querySelectorAll('[data-euigrid-tab-managed]');\n\n        for (var i = 0; i < interactiveElements.length; i++) {\n          interactiveElements[i].setAttribute('tabIndex', '0');\n        }\n      };\n\n      var disableInteractives = function disableInteractives() {\n        var tababbles = tabbable(headerRef.current);\n\n        if (tababbles.length > 1) {\n          console.warn(\"EuiDataGridHeaderCell expects at most 1 tabbable element, \".concat(tababbles.length, \" found instead\"));\n        }\n\n        for (var i = 0; i < tababbles.length; i++) {\n          var element = tababbles[i];\n          element.setAttribute('data-euigrid-tab-managed', 'true');\n          element.setAttribute('tabIndex', '-1');\n        }\n      };\n\n      if (isCellEntered) {\n        enableInteractives();\n        var tabbables = tabbable(headerRef.current);\n\n        if (tabbables.length > 0) {\n          tabbables[0].focus();\n        }\n      } else {\n        disableInteractives();\n      }\n    }\n  }, [isCellEntered]);\n  useEffect(function () {\n    if (headerRef.current) {\n      // focusin bubbles while focus does not, and this needs to react to children gaining focus\n      var onFocusIn = function onFocusIn(e) {\n        if (headerIsInteractive === false) {\n          // header is not interactive, avoid focusing\n          requestAnimationFrame(function () {\n            return headerRef.current.blur();\n          });\n          e.preventDefault();\n          return false;\n        } else {\n          // take the focus\n          setFocusedCell([index, -1]);\n        }\n      }; // focusout bubbles while blur does not, and this needs to react to the children losing focus\n\n\n      var onFocusOut = function onFocusOut() {\n        // wait for the next element to receive focus, then update interactives' state\n        requestAnimationFrame(function () {\n          if (headerRef.current) {\n            if (headerRef.current.contains(document.activeElement) === false) {\n              setIsCellEntered(false);\n            }\n          }\n        });\n      };\n\n      var onKeyUp = function onKeyUp(e) {\n        switch (e.keyCode) {\n          case keyCodes.ENTER:\n            {\n              e.preventDefault();\n              setIsCellEntered(true);\n              break;\n            }\n\n          case keyCodes.ESCAPE:\n            {\n              e.preventDefault(); // move focus to cell\n\n              setIsCellEntered(false);\n              headerRef.current.focus();\n              break;\n            }\n\n          case keyCodes.F2:\n            {\n              e.preventDefault();\n\n              if (document.activeElement === headerRef.current) {\n                // move focus into cell's interactives\n                setIsCellEntered(true);\n              } else {\n                // move focus to cell\n                setIsCellEntered(false);\n                headerRef.current.focus();\n              }\n\n              break;\n            }\n        }\n      };\n\n      if (isFocused) {\n        var interactives = headerRef.current.querySelectorAll('[data-euigrid-tab-managed]');\n\n        if (interactives.length === 1) {\n          setIsCellEntered(true);\n        } else {\n          headerRef.current.focus();\n        }\n      } else {\n        setIsCellEntered(false);\n      }\n\n      var headerNode = headerRef.current; // @ts-ignore-next line TS doesn't have focusin\n\n      headerNode.addEventListener('focusin', onFocusIn);\n      headerNode.addEventListener('focusout', onFocusOut);\n      headerNode.addEventListener('keyup', onKeyUp);\n      return function () {\n        // @ts-ignore-next line TS doesn't have focusin\n        headerNode.removeEventListener('focusin', onFocusIn);\n        headerNode.removeEventListener('focusout', onFocusOut);\n        headerNode.removeEventListener('keyup', onKeyUp);\n      };\n    }\n  }, [headerIsInteractive, isFocused, setIsCellEntered, setFocusedCell, index]);\n  return React.createElement(\"div\", {\n    role: \"columnheader\",\n    ref: headerRef,\n    tabIndex: isFocused ? 0 : -1,\n    className: classes,\n    \"data-test-subj\": \"dataGridHeaderCell-\".concat(id),\n    style: width != null ? {\n      width: \"\".concat(width, \"px\")\n    } : {}\n  }, React.createElement(\"div\", {\n    className: \"euiDataGridHeaderCell__content\"\n  }, React.createElement(HeaderCellRender, null)));\n};\nEuiDataGridControlHeaderCell.propTypes = {\n  index: PropTypes.number.isRequired,\n  controlColumn: PropTypes.shape({\n    /**\n       * Used as the React `key` when rendering content\n       */\n    id: PropTypes.string.isRequired,\n\n    /**\n       * Component to render in the column header\n       */\n    headerCellRender: PropTypes.elementType.isRequired,\n\n    /**\n       * Component to render for each row in the column\n       */\n    rowCellRender: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.func.isRequired]).isRequired,\n\n    /**\n       * Width of the column, uses are unable to change this\n       */\n    width: PropTypes.number.isRequired\n  }).isRequired,\n  focusedCell: PropTypes.any,\n  setFocusedCell: PropTypes.func.isRequired,\n  headerIsInteractive: PropTypes.bool.isRequired,\n  className: PropTypes.string\n};\nEuiDataGridControlHeaderCell.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [],\n  \"displayName\": \"EuiDataGridControlHeaderCell\",\n  \"props\": {\n    \"index\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"controlColumn\": {\n      \"type\": {\n        \"name\": \"shape\",\n        \"value\": {\n          \"id\": {\n            \"name\": \"string\",\n            \"description\": \"Used as the React `key` when rendering content\",\n            \"required\": true\n          },\n          \"headerCellRender\": {\n            \"name\": \"elementType\",\n            \"description\": \"Component to render in the column header\",\n            \"required\": true\n          },\n          \"rowCellRender\": {\n            \"name\": \"union\",\n            \"value\": [{\n              \"name\": \"func\"\n            }, {\n              \"name\": \"func\"\n            }],\n            \"description\": \"Component to render for each row in the column\",\n            \"required\": true\n          },\n          \"width\": {\n            \"name\": \"number\",\n            \"description\": \"Width of the column, uses are unable to change this\",\n            \"required\": true\n          }\n        }\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"focusedCell\": {\n      \"type\": {\n        \"name\": \"any\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"setFocusedCell\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"headerIsInteractive\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"className\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    }\n  }\n};","map":{"version":3,"sources":["/home/nadaanbaalak/greendeck/client/node_modules/@elastic/eui/es/components/datagrid/data_grid_control_header_cell.js"],"names":["_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","Array","isArray","React","useEffect","useRef","useState","PropTypes","classnames","keyCodes","tabbable","EuiDataGridControlHeaderCell","props","controlColumn","index","focusedCell","setFocusedCell","headerIsInteractive","className","HeaderCellRender","headerCellRender","width","id","classes","headerRef","isFocused","_useState","_useState2","isCellEntered","setIsCellEntered","current","enableInteractives","interactiveElements","querySelectorAll","setAttribute","disableInteractives","tababbles","console","warn","concat","element","tabbables","focus","onFocusIn","e","requestAnimationFrame","blur","preventDefault","onFocusOut","contains","document","activeElement","onKeyUp","keyCode","ENTER","ESCAPE","F2","interactives","headerNode","addEventListener","removeEventListener","createElement","role","ref","tabIndex","style","propTypes","number","isRequired","shape","string","elementType","rowCellRender","oneOfType","func","any","bool","__docgenInfo"],"mappings":"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","sourcesContent":["function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useEffect, useRef, useState } from 'react';\nimport PropTypes from \"prop-types\";\nimport classnames from 'classnames';\nimport { keyCodes } from '../../services';\nimport tabbable from 'tabbable';\nexport var EuiDataGridControlHeaderCell = function EuiDataGridControlHeaderCell(props) {\n  var controlColumn = props.controlColumn,\n      index = props.index,\n      focusedCell = props.focusedCell,\n      setFocusedCell = props.setFocusedCell,\n      headerIsInteractive = props.headerIsInteractive,\n      className = props.className;\n  var HeaderCellRender = controlColumn.headerCellRender,\n      width = controlColumn.width,\n      id = controlColumn.id;\n  var classes = classnames('euiDataGridHeaderCell', className);\n  var headerRef = useRef(null);\n  var isFocused = focusedCell != null && focusedCell[0] === index && focusedCell[1] === -1;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isCellEntered = _useState2[0],\n      setIsCellEntered = _useState2[1];\n\n  useEffect(function () {\n    if (headerRef.current) {\n      var enableInteractives = function enableInteractives() {\n        var interactiveElements = headerRef.current.querySelectorAll('[data-euigrid-tab-managed]');\n\n        for (var i = 0; i < interactiveElements.length; i++) {\n          interactiveElements[i].setAttribute('tabIndex', '0');\n        }\n      };\n\n      var disableInteractives = function disableInteractives() {\n        var tababbles = tabbable(headerRef.current);\n\n        if (tababbles.length > 1) {\n          console.warn(\"EuiDataGridHeaderCell expects at most 1 tabbable element, \".concat(tababbles.length, \" found instead\"));\n        }\n\n        for (var i = 0; i < tababbles.length; i++) {\n          var element = tababbles[i];\n          element.setAttribute('data-euigrid-tab-managed', 'true');\n          element.setAttribute('tabIndex', '-1');\n        }\n      };\n\n      if (isCellEntered) {\n        enableInteractives();\n        var tabbables = tabbable(headerRef.current);\n\n        if (tabbables.length > 0) {\n          tabbables[0].focus();\n        }\n      } else {\n        disableInteractives();\n      }\n    }\n  }, [isCellEntered]);\n  useEffect(function () {\n    if (headerRef.current) {\n      // focusin bubbles while focus does not, and this needs to react to children gaining focus\n      var onFocusIn = function onFocusIn(e) {\n        if (headerIsInteractive === false) {\n          // header is not interactive, avoid focusing\n          requestAnimationFrame(function () {\n            return headerRef.current.blur();\n          });\n          e.preventDefault();\n          return false;\n        } else {\n          // take the focus\n          setFocusedCell([index, -1]);\n        }\n      }; // focusout bubbles while blur does not, and this needs to react to the children losing focus\n\n\n      var onFocusOut = function onFocusOut() {\n        // wait for the next element to receive focus, then update interactives' state\n        requestAnimationFrame(function () {\n          if (headerRef.current) {\n            if (headerRef.current.contains(document.activeElement) === false) {\n              setIsCellEntered(false);\n            }\n          }\n        });\n      };\n\n      var onKeyUp = function onKeyUp(e) {\n        switch (e.keyCode) {\n          case keyCodes.ENTER:\n            {\n              e.preventDefault();\n              setIsCellEntered(true);\n              break;\n            }\n\n          case keyCodes.ESCAPE:\n            {\n              e.preventDefault(); // move focus to cell\n\n              setIsCellEntered(false);\n              headerRef.current.focus();\n              break;\n            }\n\n          case keyCodes.F2:\n            {\n              e.preventDefault();\n\n              if (document.activeElement === headerRef.current) {\n                // move focus into cell's interactives\n                setIsCellEntered(true);\n              } else {\n                // move focus to cell\n                setIsCellEntered(false);\n                headerRef.current.focus();\n              }\n\n              break;\n            }\n        }\n      };\n\n      if (isFocused) {\n        var interactives = headerRef.current.querySelectorAll('[data-euigrid-tab-managed]');\n\n        if (interactives.length === 1) {\n          setIsCellEntered(true);\n        } else {\n          headerRef.current.focus();\n        }\n      } else {\n        setIsCellEntered(false);\n      }\n\n      var headerNode = headerRef.current; // @ts-ignore-next line TS doesn't have focusin\n\n      headerNode.addEventListener('focusin', onFocusIn);\n      headerNode.addEventListener('focusout', onFocusOut);\n      headerNode.addEventListener('keyup', onKeyUp);\n      return function () {\n        // @ts-ignore-next line TS doesn't have focusin\n        headerNode.removeEventListener('focusin', onFocusIn);\n        headerNode.removeEventListener('focusout', onFocusOut);\n        headerNode.removeEventListener('keyup', onKeyUp);\n      };\n    }\n  }, [headerIsInteractive, isFocused, setIsCellEntered, setFocusedCell, index]);\n  return React.createElement(\"div\", {\n    role: \"columnheader\",\n    ref: headerRef,\n    tabIndex: isFocused ? 0 : -1,\n    className: classes,\n    \"data-test-subj\": \"dataGridHeaderCell-\".concat(id),\n    style: width != null ? {\n      width: \"\".concat(width, \"px\")\n    } : {}\n  }, React.createElement(\"div\", {\n    className: \"euiDataGridHeaderCell__content\"\n  }, React.createElement(HeaderCellRender, null)));\n};\nEuiDataGridControlHeaderCell.propTypes = {\n  index: PropTypes.number.isRequired,\n  controlColumn: PropTypes.shape({\n    /**\n       * Used as the React `key` when rendering content\n       */\n    id: PropTypes.string.isRequired,\n\n    /**\n       * Component to render in the column header\n       */\n    headerCellRender: PropTypes.elementType.isRequired,\n\n    /**\n       * Component to render for each row in the column\n       */\n    rowCellRender: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.func.isRequired]).isRequired,\n\n    /**\n       * Width of the column, uses are unable to change this\n       */\n    width: PropTypes.number.isRequired\n  }).isRequired,\n  focusedCell: PropTypes.any,\n  setFocusedCell: PropTypes.func.isRequired,\n  headerIsInteractive: PropTypes.bool.isRequired,\n  className: PropTypes.string\n};\nEuiDataGridControlHeaderCell.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [],\n  \"displayName\": \"EuiDataGridControlHeaderCell\",\n  \"props\": {\n    \"index\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"controlColumn\": {\n      \"type\": {\n        \"name\": \"shape\",\n        \"value\": {\n          \"id\": {\n            \"name\": \"string\",\n            \"description\": \"Used as the React `key` when rendering content\",\n            \"required\": true\n          },\n          \"headerCellRender\": {\n            \"name\": \"elementType\",\n            \"description\": \"Component to render in the column header\",\n            \"required\": true\n          },\n          \"rowCellRender\": {\n            \"name\": \"union\",\n            \"value\": [{\n              \"name\": \"func\"\n            }, {\n              \"name\": \"func\"\n            }],\n            \"description\": \"Component to render for each row in the column\",\n            \"required\": true\n          },\n          \"width\": {\n            \"name\": \"number\",\n            \"description\": \"Width of the column, uses are unable to change this\",\n            \"required\": true\n          }\n        }\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"focusedCell\": {\n      \"type\": {\n        \"name\": \"any\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"setFocusedCell\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"headerIsInteractive\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"className\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    }\n  }\n};"]},"metadata":{},"sourceType":"module"}