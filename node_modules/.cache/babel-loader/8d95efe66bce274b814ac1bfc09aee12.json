{"ast":null,"code":"function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nimport PropTypes from \"prop-types\";\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport classNames from 'classnames';\nimport { keyCodes, DEFAULT_VISUALIZATION_COLOR } from '../../../services';\nimport { EuiColorStopThumb } from './color_stop_thumb';\nimport { addStop, addDefinedStop, getPositionFromStop, getStopFromMouseLocation, isInvalid, removeStop } from './utils';\nimport { getChromaColor } from '../utils';\nimport { EuiI18n } from '../../i18n';\nimport { EuiScreenReaderOnly } from '../../accessibility';\nimport { EuiRangeHighlight } from '../../form/range/range_highlight';\nimport { EuiRangeTrack } from '../../form/range/range_track';\nimport { EuiRangeWrapper } from '../../form/range/range_wrapper'; // Because of how the thumbs are rendered in the popover, using ref results in an infinite loop.\n// We'll instead use old fashioned namespaced DOM selectors to get references\n\nvar STOP_ATTR = 'euiColorStop_';\nvar DEFAULT_MIN = 0;\nvar DEFAULT_MAX = 100;\n\nfunction isTargetAThumb(target) {\n  var element = target;\n  var attr = element.getAttribute('data-index');\n  return attr && attr.indexOf(STOP_ATTR) > -1;\n}\n\nfunction sortStops(colorStops) {\n  return colorStops.map(function (el, index) {\n    return _objectSpread({}, el, {\n      id: index\n    });\n  }).sort(function (a, b) {\n    return a.stop - b.stop;\n  });\n}\n\nfunction getValidStops(colorStops) {\n  return colorStops.map(function (el) {\n    return el.stop;\n  }).filter(function (stop) {\n    return !isNaN(stop);\n  });\n}\n\nfunction getRangeMin(colorStops, min) {\n  var rangeMin = min || DEFAULT_MIN;\n  var stops = getValidStops(colorStops);\n  var first = Math.min.apply(Math, _toConsumableArray(stops)); // https://johnresig.com/blog/fast-javascript-maxmin/\n\n  if (first < rangeMin) {\n    if (stops.length === 1) {\n      return first - DEFAULT_MIN;\n    } else if (stops.length >= 2) {\n      return first;\n    }\n  }\n\n  return DEFAULT_MIN;\n}\n\nfunction getRangeMax(colorStops, max) {\n  var rangeMax = max || DEFAULT_MAX;\n  var stops = getValidStops(colorStops);\n  var last = Math.max.apply(Math, _toConsumableArray(stops)); // https://johnresig.com/blog/fast-javascript-maxmin/\n\n  if (last > rangeMax) {\n    if (stops.length === 1) {\n      return last + DEFAULT_MAX;\n    } else if (stops.length >= 2) {\n      return last;\n    }\n  }\n\n  return DEFAULT_MAX;\n}\n\nexport var EuiColorStops = function EuiColorStops(_ref) {\n  var _ref$addColor = _ref.addColor,\n      addColor = _ref$addColor === void 0 ? DEFAULT_VISUALIZATION_COLOR : _ref$addColor,\n      max = _ref.max,\n      min = _ref.min,\n      _ref$mode = _ref.mode,\n      mode = _ref$mode === void 0 ? 'default' : _ref$mode,\n      colorStops = _ref.colorStops,\n      onChange = _ref.onChange,\n      disabled = _ref.disabled,\n      readOnly = _ref.readOnly,\n      compressed = _ref.compressed,\n      fullWidth = _ref.fullWidth,\n      className = _ref.className,\n      label = _ref.label,\n      _ref$stopType = _ref.stopType,\n      stopType = _ref$stopType === void 0 ? 'gradient' : _ref$stopType,\n      swatches = _ref.swatches,\n      _ref$showAlpha = _ref.showAlpha,\n      showAlpha = _ref$showAlpha === void 0 ? false : _ref$showAlpha;\n  var sortedStops = useMemo(function () {\n    return sortStops(colorStops);\n  }, [colorStops]);\n  var rangeMax = useMemo(function () {\n    var result = max != null ? max : getRangeMax(colorStops, max);\n    var width = max != null ? 0 : Math.round(result * 0.05);\n    return !isNaN(result) ? result + width : DEFAULT_MAX;\n  }, [colorStops, max]);\n  var rangeMin = useMemo(function () {\n    var result = min != null ? min : getRangeMin(colorStops, min);\n    var width = min != null ? 0 : Math.round(rangeMax * 0.05);\n    return !isNaN(result) ? result - width : DEFAULT_MIN;\n  }, [colorStops, min, rangeMax]);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      hasFocus = _useState2[0],\n      setHasFocus = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      focusedStopIndex = _useState4[0],\n      setFocusedStopIndex = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      openedStopId = _useState6[0],\n      setOpenedStopId = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      wrapperRef = _useState8[0],\n      setWrapperRef = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      addTargetPosition = _useState10[0],\n      setAddTargetPosition = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      isHoverDisabled = _useState12[0],\n      setIsHoverDisabled = _useState12[1];\n\n  var _useState13 = useState(null),\n      _useState14 = _slicedToArray(_useState13, 2),\n      focusStopOnUpdate = _useState14[0],\n      setFocusStopOnUpdate = _useState14[1];\n\n  var isNotInteractive = disabled || readOnly;\n  var classes = classNames('euiColorStops', {\n    'euiColorStops-isDragging': isHoverDisabled,\n    'euiColorStops-isDisabled': disabled,\n    'euiColorStops-isReadOnly': readOnly\n  }, className);\n\n  var getStopFromMouseLocationFn = function getStopFromMouseLocationFn(location) {\n    // Guard against `null` ref in usage\n    return getStopFromMouseLocation(location, wrapperRef, min || rangeMin, max || rangeMax);\n  };\n\n  var getPositionFromStopFn = function getPositionFromStopFn(stop) {\n    // Guard against `null` ref in usage\n    return getPositionFromStop(stop, wrapperRef, min || rangeMin, max || rangeMax);\n  };\n\n  var handleOnChange = useCallback(function (colorStops) {\n    onChange(colorStops, isInvalid(colorStops, showAlpha));\n  }, [onChange, showAlpha]);\n  var onFocusStop = useCallback(function (index) {\n    if (disabled || !wrapperRef) return;\n    var toFocus = wrapperRef.querySelector(\"[data-index=\".concat(STOP_ATTR).concat(index, \"]\"));\n\n    if (toFocus) {\n      setHasFocus(false);\n      setFocusedStopIndex(index);\n      toFocus.focus();\n    }\n  }, [disabled, wrapperRef]);\n  useEffect(function () {\n    if (focusStopOnUpdate !== null) {\n      var toFocusIndex = sortedStops.map(function (el) {\n        return el.stop;\n      }).indexOf(focusStopOnUpdate);\n      var toFocusId = toFocusIndex > -1 ? sortedStops[toFocusIndex].id : null;\n      onFocusStop(toFocusIndex);\n      setOpenedStopId(toFocusId);\n      setFocusStopOnUpdate(null);\n    }\n  }, [sortedStops, onFocusStop, setFocusStopOnUpdate, focusStopOnUpdate]);\n  var onFocusWrapper = useCallback(function () {\n    setFocusedStopIndex(null);\n\n    if (wrapperRef) {\n      wrapperRef.focus();\n    }\n  }, [wrapperRef]);\n\n  var setWrapperHasFocus = function setWrapperHasFocus(e) {\n    if (e.target === wrapperRef) {\n      setHasFocus(true);\n    }\n  };\n\n  var removeWrapperFocus = function removeWrapperFocus() {\n    setHasFocus(false);\n  };\n\n  var onAdd = function onAdd() {\n    var stops = sortedStops.map(function (_ref2) {\n      var color = _ref2.color,\n          stop = _ref2.stop;\n      return {\n        color: color,\n        stop: stop\n      };\n    });\n    var newColorStops = addStop(stops, addColor, max || rangeMax);\n    setFocusStopOnUpdate(newColorStops[colorStops.length].stop);\n    handleOnChange(newColorStops);\n  };\n\n  var onRemove = useCallback(function (index) {\n    var newColorStops = removeStop(colorStops, index);\n    onFocusWrapper();\n    handleOnChange(newColorStops);\n  }, [colorStops, handleOnChange, onFocusWrapper]);\n\n  var disableHover = function disableHover() {\n    if (disabled) return;\n    setIsHoverDisabled(true);\n  };\n\n  var enableHover = function enableHover() {\n    if (disabled) return;\n    setIsHoverDisabled(false);\n  };\n\n  var handleAddHover = function handleAddHover(e) {\n    if (isNotInteractive || !wrapperRef) return;\n    var stop = getStopFromMouseLocationFn({\n      x: e.pageX,\n      y: e.pageY\n    });\n    var position = getPositionFromStopFn(stop);\n    setAddTargetPosition(position);\n  };\n\n  var handleAddClick = function handleAddClick(e) {\n    if (isNotInteractive || isTargetAThumb(e.target) || !wrapperRef) return;\n    var newStop = getStopFromMouseLocationFn({\n      x: e.pageX,\n      y: e.pageY\n    });\n    var newColorStops = addDefinedStop(colorStops, newStop, addColor);\n    setFocusStopOnUpdate(newStop);\n    handleOnChange(newColorStops);\n  };\n\n  var handleKeyDown = function handleKeyDown(e) {\n    if (disabled) return;\n\n    switch (e.keyCode) {\n      case keyCodes.ESCAPE:\n        onFocusWrapper();\n        break;\n\n      case keyCodes.ENTER:\n        if (readOnly || !hasFocus) return;\n        onAdd();\n        break;\n\n      case keyCodes.BACKSPACE:\n        if (readOnly || hasFocus || focusedStopIndex == null) return;\n\n        if (isTargetAThumb(e.target)) {\n          if (min == null && focusedStopIndex === 0 || max == null && focusedStopIndex === sortedStops.length - 1) {\n            return;\n          }\n\n          var index = sortedStops[focusedStopIndex].id;\n          onRemove(index);\n        }\n\n        break;\n\n      case keyCodes.DOWN:\n        if (e.target === wrapperRef || isTargetAThumb(e.target)) {\n          e.preventDefault();\n\n          if (focusedStopIndex == null) {\n            onFocusStop(0);\n          } else {\n            var next = focusedStopIndex === sortedStops.length - 1 ? focusedStopIndex : focusedStopIndex + 1;\n            onFocusStop(next);\n          }\n        }\n\n        break;\n\n      case keyCodes.UP:\n        if (e.target === wrapperRef || isTargetAThumb(e.target)) {\n          e.preventDefault();\n\n          if (focusedStopIndex == null) {\n            onFocusStop(0);\n          } else {\n            var _next = focusedStopIndex === 0 ? focusedStopIndex : focusedStopIndex - 1;\n\n            onFocusStop(_next);\n          }\n        }\n\n        break;\n    }\n  };\n\n  var thumbs = useMemo(function () {\n    var handleStopChange = function handleStopChange(stop, id) {\n      var newColorStops = _toConsumableArray(colorStops);\n\n      newColorStops.splice(id, 1, stop);\n      handleOnChange(newColorStops);\n    };\n\n    return sortedStops.map(function (colorStop, index) {\n      return React.createElement(EuiColorStopThumb, {\n        isRangeMin: min == null && colorStop.stop === rangeMin,\n        isRangeMax: max == null && colorStop.stop === rangeMax,\n        \"data-index\": \"\".concat(STOP_ATTR).concat(index),\n        key: colorStop.id,\n        globalMin: min || rangeMin,\n        globalMax: max || rangeMax,\n        min: min,\n        max: max,\n        localMin: index === 0 ? min || rangeMin : sortedStops[index - 1].stop + 1,\n        localMax: index === sortedStops.length - 1 ? max || rangeMax : sortedStops[index + 1].stop - 1,\n        stop: colorStop.stop,\n        color: colorStop.color,\n        onRemove: sortedStops.length > 1 ? function () {\n          return onRemove(colorStop.id);\n        } : undefined,\n        onChange: function onChange(stop) {\n          return handleStopChange(stop, colorStop.id);\n        },\n        onFocus: function onFocus() {\n          return setFocusedStopIndex(index);\n        },\n        parentRef: wrapperRef,\n        colorPickerMode: mode,\n        colorPickerShowAlpha: showAlpha,\n        colorPickerSwatches: swatches,\n        disabled: disabled,\n        readOnly: readOnly,\n        \"aria-valuetext\": \"Stop: \".concat(colorStop.stop, \", Color: \").concat(colorStop.color, \" (\").concat(index + 1, \" of \").concat(colorStops.length, \")\"),\n        isPopoverOpen: colorStop.id === openedStopId,\n        openPopover: function openPopover() {\n          setOpenedStopId(colorStop.id);\n        },\n        closePopover: function closePopover() {\n          setOpenedStopId(null);\n        }\n      });\n    });\n  }, [colorStops, disabled, handleOnChange, max, min, mode, onRemove, openedStopId, rangeMax, rangeMin, readOnly, showAlpha, sortedStops, swatches, wrapperRef]);\n  var positions = wrapperRef ? sortedStops.map(function (_ref3) {\n    var stop = _ref3.stop;\n    return getPositionFromStopFn(stop);\n  }) : [];\n\n  var gradientStop = function gradientStop(colorStop, index) {\n    var color = getChromaColor(colorStop.color, showAlpha);\n    var rgba = color ? color.css() : 'currentColor';\n\n    if (index === 0) {\n      return \"currentColor, currentColor \".concat(positions[index], \"%, \").concat(rgba, \" \").concat(positions[index], \"%\");\n    }\n\n    return \"\".concat(rgba, \" \").concat(positions[index], \"%\");\n  };\n\n  var fixedStop = function fixedStop(colorStop, index) {\n    if (index === sortedStops.length - 1) {\n      return gradientStop(colorStop, index);\n    } else {\n      return \"\".concat(gradientStop(colorStop, index), \", \").concat(gradientStop(colorStop, index + 1));\n    }\n  };\n\n  var linearGradient = sortedStops.map(stopType === 'gradient' ? gradientStop : fixedStop);\n  var background = \"linear-gradient(to right,\".concat(linearGradient, \")\");\n  return React.createElement(EuiRangeWrapper, {\n    \"data-test-subj\": \"euiColorStops\",\n    ref: setWrapperRef,\n    className: classes,\n    fullWidth: fullWidth,\n    tabIndex: disabled ? -1 : 0,\n    onMouseDown: disableHover,\n    onMouseUp: enableHover,\n    onMouseLeave: enableHover,\n    onKeyDown: handleKeyDown,\n    onFocus: setWrapperHasFocus,\n    onBlur: removeWrapperFocus\n  }, React.createElement(EuiScreenReaderOnly, null, React.createElement(\"p\", {\n    \"aria-live\": \"polite\"\n  }, React.createElement(EuiI18n, {\n    values: {\n      label: label,\n      disabled: disabled ? 'Disabled.' : '',\n      readOnly: readOnly ? 'Read-only.' : ''\n    },\n    token: \"euiColorStops.screenReaderAnnouncement\",\n    default: \"{label}: {readOnly} {disabled} Color stop picker. Each stop consists of a number and corresponding color value. Use the Down and Up arrow keys to select individual stops. Press the Enter key to create a new stop.\"\n  }))), React.createElement(EuiRangeTrack, {\n    min: min || rangeMin,\n    max: max || rangeMax,\n    compressed: compressed,\n    disabled: disabled,\n    step: 1\n  }, React.createElement(EuiRangeHighlight, {\n    className: \"euiColorStops__highlight\",\n    min: min || rangeMin,\n    max: max || rangeMax,\n    lowerValue: min || rangeMin,\n    upperValue: max || rangeMax,\n    background: background,\n    compressed: compressed\n  }), React.createElement(\"div\", {\n    \"data-test-subj\": \"euiColorStopsAdd\",\n    className: classNames('euiColorStops__addContainer', {\n      'euiColorStops__addContainer-isDisabled': isHoverDisabled || disabled || readOnly\n    }),\n    onClick: handleAddClick,\n    onMouseMove: handleAddHover\n  }, React.createElement(\"div\", {\n    className: \"euiColorStops__addTarget\",\n    style: {\n      left: \"\".concat(addTargetPosition, \"%\")\n    }\n  })), thumbs));\n};\nEuiColorStops.propTypes = {\n  addColor: PropTypes.string,\n  colorStops: PropTypes.arrayOf(PropTypes.shape({\n    stop: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired\n  }).isRequired).isRequired,\n  onChange: PropTypes.func.isRequired,\n  fullWidth: PropTypes.bool,\n  disabled: PropTypes.bool,\n  readOnly: PropTypes.bool,\n  invalid: PropTypes.bool,\n  compressed: PropTypes.bool,\n  className: PropTypes.string,\n  max: PropTypes.number,\n  min: PropTypes.number,\n  label: PropTypes.string.isRequired,\n  stopType: PropTypes.oneOf([\"fixed\", \"gradient\"]),\n  mode: PropTypes.oneOf([\"default\", \"swatch\", \"picker\", \"secondaryInput\"]),\n  swatches: PropTypes.arrayOf(PropTypes.string.isRequired),\n  showAlpha: PropTypes.bool,\n  \"aria-label\": PropTypes.string,\n  \"data-test-subj\": PropTypes.string\n};\nEuiColorStops.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [],\n  \"displayName\": \"EuiColorStops\",\n  \"props\": {\n    \"addColor\": {\n      \"defaultValue\": {\n        \"value\": \"DEFAULT_VISUALIZATION_COLOR\",\n        \"computed\": true\n      },\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"mode\": {\n      \"defaultValue\": {\n        \"value\": \"'default'\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"enum\",\n        \"value\": [{\n          \"value\": \"\\\"default\\\"\",\n          \"computed\": false\n        }, {\n          \"value\": \"\\\"swatch\\\"\",\n          \"computed\": false\n        }, {\n          \"value\": \"\\\"picker\\\"\",\n          \"computed\": false\n        }, {\n          \"value\": \"\\\"secondaryInput\\\"\",\n          \"computed\": false\n        }]\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"stopType\": {\n      \"defaultValue\": {\n        \"value\": \"'gradient'\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"enum\",\n        \"value\": [{\n          \"value\": \"\\\"fixed\\\"\",\n          \"computed\": false\n        }, {\n          \"value\": \"\\\"gradient\\\"\",\n          \"computed\": false\n        }]\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"showAlpha\": {\n      \"defaultValue\": {\n        \"value\": \"false\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"colorStops\": {\n      \"type\": {\n        \"name\": \"arrayOf\",\n        \"value\": {\n          \"name\": \"shape\",\n          \"value\": {\n            \"stop\": {\n              \"name\": \"number\",\n              \"required\": true\n            },\n            \"color\": {\n              \"name\": \"string\",\n              \"required\": true\n            }\n          }\n        }\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"onChange\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"fullWidth\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"disabled\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"readOnly\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"invalid\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"compressed\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"className\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"max\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"min\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"label\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"swatches\": {\n      \"type\": {\n        \"name\": \"arrayOf\",\n        \"value\": {\n          \"name\": \"string\"\n        }\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"aria-label\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"data-test-subj\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    }\n  }\n};","map":{"version":3,"sources":["/home/nadaanbaalak/greendeck/client/node_modules/@elastic/eui/es/components/color_picker/color_stops/color_stops.js"],"names":["_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","Array","isArray","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","PropTypes","iter","from","arr2","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","React","useCallback","useEffect","useMemo","useState","classNames","keyCodes","DEFAULT_VISUALIZATION_COLOR","EuiColorStopThumb","addStop","addDefinedStop","getPositionFromStop","getStopFromMouseLocation","isInvalid","removeStop","getChromaColor","EuiI18n","EuiScreenReaderOnly","EuiRangeHighlight","EuiRangeTrack","EuiRangeWrapper","STOP_ATTR","DEFAULT_MIN","DEFAULT_MAX","isTargetAThumb","element","attr","getAttribute","indexOf","sortStops","colorStops","map","el","index","id","sort","a","b","stop","getValidStops","isNaN","getRangeMin","min","rangeMin","stops","first","Math","getRangeMax","max","rangeMax","last","EuiColorStops","_ref","_ref$addColor","addColor","_ref$mode","mode","onChange","disabled","readOnly","compressed","fullWidth","className","label","_ref$stopType","stopType","swatches","_ref$showAlpha","showAlpha","sortedStops","result","width","round","_useState","_useState2","hasFocus","setHasFocus","_useState3","_useState4","focusedStopIndex","setFocusedStopIndex","_useState5","_useState6","openedStopId","setOpenedStopId","_useState7","_useState8","wrapperRef","setWrapperRef","_useState9","_useState10","addTargetPosition","setAddTargetPosition","_useState11","_useState12","isHoverDisabled","setIsHoverDisabled","_useState13","_useState14","focusStopOnUpdate","setFocusStopOnUpdate","isNotInteractive","classes","getStopFromMouseLocationFn","location","getPositionFromStopFn","handleOnChange","onFocusStop","toFocus","querySelector","concat","focus","toFocusIndex","toFocusId","onFocusWrapper","setWrapperHasFocus","e","removeWrapperFocus","onAdd","_ref2","color","newColorStops","onRemove","disableHover","enableHover","handleAddHover","x","pageX","y","pageY","position","handleAddClick","newStop","handleKeyDown","keyCode","ESCAPE","ENTER","BACKSPACE","DOWN","preventDefault","UP","_next","thumbs","handleStopChange","splice","colorStop","createElement","isRangeMin","isRangeMax","globalMin","globalMax","localMin","localMax","onFocus","parentRef","colorPickerMode","colorPickerShowAlpha","colorPickerSwatches","isPopoverOpen","openPopover","closePopover","positions","_ref3","gradientStop","rgba","css","fixedStop","linearGradient","background","ref","tabIndex","onMouseDown","onMouseUp","onMouseLeave","onKeyDown","onBlur","values","token","default","step","lowerValue","upperValue","onClick","onMouseMove","style","left","propTypes","string","arrayOf","shape","number","isRequired","func","bool","invalid","oneOf","__docgenInfo"],"mappings":"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","sourcesContent":["function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nimport PropTypes from \"prop-types\";\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport classNames from 'classnames';\nimport { keyCodes, DEFAULT_VISUALIZATION_COLOR } from '../../../services';\nimport { EuiColorStopThumb } from './color_stop_thumb';\nimport { addStop, addDefinedStop, getPositionFromStop, getStopFromMouseLocation, isInvalid, removeStop } from './utils';\nimport { getChromaColor } from '../utils';\nimport { EuiI18n } from '../../i18n';\nimport { EuiScreenReaderOnly } from '../../accessibility';\nimport { EuiRangeHighlight } from '../../form/range/range_highlight';\nimport { EuiRangeTrack } from '../../form/range/range_track';\nimport { EuiRangeWrapper } from '../../form/range/range_wrapper';\n// Because of how the thumbs are rendered in the popover, using ref results in an infinite loop.\n// We'll instead use old fashioned namespaced DOM selectors to get references\nvar STOP_ATTR = 'euiColorStop_';\nvar DEFAULT_MIN = 0;\nvar DEFAULT_MAX = 100;\n\nfunction isTargetAThumb(target) {\n  var element = target;\n  var attr = element.getAttribute('data-index');\n  return attr && attr.indexOf(STOP_ATTR) > -1;\n}\n\nfunction sortStops(colorStops) {\n  return colorStops.map(function (el, index) {\n    return _objectSpread({}, el, {\n      id: index\n    });\n  }).sort(function (a, b) {\n    return a.stop - b.stop;\n  });\n}\n\nfunction getValidStops(colorStops) {\n  return colorStops.map(function (el) {\n    return el.stop;\n  }).filter(function (stop) {\n    return !isNaN(stop);\n  });\n}\n\nfunction getRangeMin(colorStops, min) {\n  var rangeMin = min || DEFAULT_MIN;\n  var stops = getValidStops(colorStops);\n  var first = Math.min.apply(Math, _toConsumableArray(stops)); // https://johnresig.com/blog/fast-javascript-maxmin/\n\n  if (first < rangeMin) {\n    if (stops.length === 1) {\n      return first - DEFAULT_MIN;\n    } else if (stops.length >= 2) {\n      return first;\n    }\n  }\n\n  return DEFAULT_MIN;\n}\n\nfunction getRangeMax(colorStops, max) {\n  var rangeMax = max || DEFAULT_MAX;\n  var stops = getValidStops(colorStops);\n  var last = Math.max.apply(Math, _toConsumableArray(stops)); // https://johnresig.com/blog/fast-javascript-maxmin/\n\n  if (last > rangeMax) {\n    if (stops.length === 1) {\n      return last + DEFAULT_MAX;\n    } else if (stops.length >= 2) {\n      return last;\n    }\n  }\n\n  return DEFAULT_MAX;\n}\n\nexport var EuiColorStops = function EuiColorStops(_ref) {\n  var _ref$addColor = _ref.addColor,\n      addColor = _ref$addColor === void 0 ? DEFAULT_VISUALIZATION_COLOR : _ref$addColor,\n      max = _ref.max,\n      min = _ref.min,\n      _ref$mode = _ref.mode,\n      mode = _ref$mode === void 0 ? 'default' : _ref$mode,\n      colorStops = _ref.colorStops,\n      onChange = _ref.onChange,\n      disabled = _ref.disabled,\n      readOnly = _ref.readOnly,\n      compressed = _ref.compressed,\n      fullWidth = _ref.fullWidth,\n      className = _ref.className,\n      label = _ref.label,\n      _ref$stopType = _ref.stopType,\n      stopType = _ref$stopType === void 0 ? 'gradient' : _ref$stopType,\n      swatches = _ref.swatches,\n      _ref$showAlpha = _ref.showAlpha,\n      showAlpha = _ref$showAlpha === void 0 ? false : _ref$showAlpha;\n  var sortedStops = useMemo(function () {\n    return sortStops(colorStops);\n  }, [colorStops]);\n  var rangeMax = useMemo(function () {\n    var result = max != null ? max : getRangeMax(colorStops, max);\n    var width = max != null ? 0 : Math.round(result * 0.05);\n    return !isNaN(result) ? result + width : DEFAULT_MAX;\n  }, [colorStops, max]);\n  var rangeMin = useMemo(function () {\n    var result = min != null ? min : getRangeMin(colorStops, min);\n    var width = min != null ? 0 : Math.round(rangeMax * 0.05);\n    return !isNaN(result) ? result - width : DEFAULT_MIN;\n  }, [colorStops, min, rangeMax]);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      hasFocus = _useState2[0],\n      setHasFocus = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      focusedStopIndex = _useState4[0],\n      setFocusedStopIndex = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      openedStopId = _useState6[0],\n      setOpenedStopId = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      wrapperRef = _useState8[0],\n      setWrapperRef = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      addTargetPosition = _useState10[0],\n      setAddTargetPosition = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      isHoverDisabled = _useState12[0],\n      setIsHoverDisabled = _useState12[1];\n\n  var _useState13 = useState(null),\n      _useState14 = _slicedToArray(_useState13, 2),\n      focusStopOnUpdate = _useState14[0],\n      setFocusStopOnUpdate = _useState14[1];\n\n  var isNotInteractive = disabled || readOnly;\n  var classes = classNames('euiColorStops', {\n    'euiColorStops-isDragging': isHoverDisabled,\n    'euiColorStops-isDisabled': disabled,\n    'euiColorStops-isReadOnly': readOnly\n  }, className);\n\n  var getStopFromMouseLocationFn = function getStopFromMouseLocationFn(location) {\n    // Guard against `null` ref in usage\n    return getStopFromMouseLocation(location, wrapperRef, min || rangeMin, max || rangeMax);\n  };\n\n  var getPositionFromStopFn = function getPositionFromStopFn(stop) {\n    // Guard against `null` ref in usage\n    return getPositionFromStop(stop, wrapperRef, min || rangeMin, max || rangeMax);\n  };\n\n  var handleOnChange = useCallback(function (colorStops) {\n    onChange(colorStops, isInvalid(colorStops, showAlpha));\n  }, [onChange, showAlpha]);\n  var onFocusStop = useCallback(function (index) {\n    if (disabled || !wrapperRef) return;\n    var toFocus = wrapperRef.querySelector(\"[data-index=\".concat(STOP_ATTR).concat(index, \"]\"));\n\n    if (toFocus) {\n      setHasFocus(false);\n      setFocusedStopIndex(index);\n      toFocus.focus();\n    }\n  }, [disabled, wrapperRef]);\n  useEffect(function () {\n    if (focusStopOnUpdate !== null) {\n      var toFocusIndex = sortedStops.map(function (el) {\n        return el.stop;\n      }).indexOf(focusStopOnUpdate);\n      var toFocusId = toFocusIndex > -1 ? sortedStops[toFocusIndex].id : null;\n      onFocusStop(toFocusIndex);\n      setOpenedStopId(toFocusId);\n      setFocusStopOnUpdate(null);\n    }\n  }, [sortedStops, onFocusStop, setFocusStopOnUpdate, focusStopOnUpdate]);\n  var onFocusWrapper = useCallback(function () {\n    setFocusedStopIndex(null);\n\n    if (wrapperRef) {\n      wrapperRef.focus();\n    }\n  }, [wrapperRef]);\n\n  var setWrapperHasFocus = function setWrapperHasFocus(e) {\n    if (e.target === wrapperRef) {\n      setHasFocus(true);\n    }\n  };\n\n  var removeWrapperFocus = function removeWrapperFocus() {\n    setHasFocus(false);\n  };\n\n  var onAdd = function onAdd() {\n    var stops = sortedStops.map(function (_ref2) {\n      var color = _ref2.color,\n          stop = _ref2.stop;\n      return {\n        color: color,\n        stop: stop\n      };\n    });\n    var newColorStops = addStop(stops, addColor, max || rangeMax);\n    setFocusStopOnUpdate(newColorStops[colorStops.length].stop);\n    handleOnChange(newColorStops);\n  };\n\n  var onRemove = useCallback(function (index) {\n    var newColorStops = removeStop(colorStops, index);\n    onFocusWrapper();\n    handleOnChange(newColorStops);\n  }, [colorStops, handleOnChange, onFocusWrapper]);\n\n  var disableHover = function disableHover() {\n    if (disabled) return;\n    setIsHoverDisabled(true);\n  };\n\n  var enableHover = function enableHover() {\n    if (disabled) return;\n    setIsHoverDisabled(false);\n  };\n\n  var handleAddHover = function handleAddHover(e) {\n    if (isNotInteractive || !wrapperRef) return;\n    var stop = getStopFromMouseLocationFn({\n      x: e.pageX,\n      y: e.pageY\n    });\n    var position = getPositionFromStopFn(stop);\n    setAddTargetPosition(position);\n  };\n\n  var handleAddClick = function handleAddClick(e) {\n    if (isNotInteractive || isTargetAThumb(e.target) || !wrapperRef) return;\n    var newStop = getStopFromMouseLocationFn({\n      x: e.pageX,\n      y: e.pageY\n    });\n    var newColorStops = addDefinedStop(colorStops, newStop, addColor);\n    setFocusStopOnUpdate(newStop);\n    handleOnChange(newColorStops);\n  };\n\n  var handleKeyDown = function handleKeyDown(e) {\n    if (disabled) return;\n\n    switch (e.keyCode) {\n      case keyCodes.ESCAPE:\n        onFocusWrapper();\n        break;\n\n      case keyCodes.ENTER:\n        if (readOnly || !hasFocus) return;\n        onAdd();\n        break;\n\n      case keyCodes.BACKSPACE:\n        if (readOnly || hasFocus || focusedStopIndex == null) return;\n\n        if (isTargetAThumb(e.target)) {\n          if (min == null && focusedStopIndex === 0 || max == null && focusedStopIndex === sortedStops.length - 1) {\n            return;\n          }\n\n          var index = sortedStops[focusedStopIndex].id;\n          onRemove(index);\n        }\n\n        break;\n\n      case keyCodes.DOWN:\n        if (e.target === wrapperRef || isTargetAThumb(e.target)) {\n          e.preventDefault();\n\n          if (focusedStopIndex == null) {\n            onFocusStop(0);\n          } else {\n            var next = focusedStopIndex === sortedStops.length - 1 ? focusedStopIndex : focusedStopIndex + 1;\n            onFocusStop(next);\n          }\n        }\n\n        break;\n\n      case keyCodes.UP:\n        if (e.target === wrapperRef || isTargetAThumb(e.target)) {\n          e.preventDefault();\n\n          if (focusedStopIndex == null) {\n            onFocusStop(0);\n          } else {\n            var _next = focusedStopIndex === 0 ? focusedStopIndex : focusedStopIndex - 1;\n\n            onFocusStop(_next);\n          }\n        }\n\n        break;\n    }\n  };\n\n  var thumbs = useMemo(function () {\n    var handleStopChange = function handleStopChange(stop, id) {\n      var newColorStops = _toConsumableArray(colorStops);\n\n      newColorStops.splice(id, 1, stop);\n      handleOnChange(newColorStops);\n    };\n\n    return sortedStops.map(function (colorStop, index) {\n      return React.createElement(EuiColorStopThumb, {\n        isRangeMin: min == null && colorStop.stop === rangeMin,\n        isRangeMax: max == null && colorStop.stop === rangeMax,\n        \"data-index\": \"\".concat(STOP_ATTR).concat(index),\n        key: colorStop.id,\n        globalMin: min || rangeMin,\n        globalMax: max || rangeMax,\n        min: min,\n        max: max,\n        localMin: index === 0 ? min || rangeMin : sortedStops[index - 1].stop + 1,\n        localMax: index === sortedStops.length - 1 ? max || rangeMax : sortedStops[index + 1].stop - 1,\n        stop: colorStop.stop,\n        color: colorStop.color,\n        onRemove: sortedStops.length > 1 ? function () {\n          return onRemove(colorStop.id);\n        } : undefined,\n        onChange: function onChange(stop) {\n          return handleStopChange(stop, colorStop.id);\n        },\n        onFocus: function onFocus() {\n          return setFocusedStopIndex(index);\n        },\n        parentRef: wrapperRef,\n        colorPickerMode: mode,\n        colorPickerShowAlpha: showAlpha,\n        colorPickerSwatches: swatches,\n        disabled: disabled,\n        readOnly: readOnly,\n        \"aria-valuetext\": \"Stop: \".concat(colorStop.stop, \", Color: \").concat(colorStop.color, \" (\").concat(index + 1, \" of \").concat(colorStops.length, \")\"),\n        isPopoverOpen: colorStop.id === openedStopId,\n        openPopover: function openPopover() {\n          setOpenedStopId(colorStop.id);\n        },\n        closePopover: function closePopover() {\n          setOpenedStopId(null);\n        }\n      });\n    });\n  }, [colorStops, disabled, handleOnChange, max, min, mode, onRemove, openedStopId, rangeMax, rangeMin, readOnly, showAlpha, sortedStops, swatches, wrapperRef]);\n  var positions = wrapperRef ? sortedStops.map(function (_ref3) {\n    var stop = _ref3.stop;\n    return getPositionFromStopFn(stop);\n  }) : [];\n\n  var gradientStop = function gradientStop(colorStop, index) {\n    var color = getChromaColor(colorStop.color, showAlpha);\n    var rgba = color ? color.css() : 'currentColor';\n\n    if (index === 0) {\n      return \"currentColor, currentColor \".concat(positions[index], \"%, \").concat(rgba, \" \").concat(positions[index], \"%\");\n    }\n\n    return \"\".concat(rgba, \" \").concat(positions[index], \"%\");\n  };\n\n  var fixedStop = function fixedStop(colorStop, index) {\n    if (index === sortedStops.length - 1) {\n      return gradientStop(colorStop, index);\n    } else {\n      return \"\".concat(gradientStop(colorStop, index), \", \").concat(gradientStop(colorStop, index + 1));\n    }\n  };\n\n  var linearGradient = sortedStops.map(stopType === 'gradient' ? gradientStop : fixedStop);\n  var background = \"linear-gradient(to right,\".concat(linearGradient, \")\");\n  return React.createElement(EuiRangeWrapper, {\n    \"data-test-subj\": \"euiColorStops\",\n    ref: setWrapperRef,\n    className: classes,\n    fullWidth: fullWidth,\n    tabIndex: disabled ? -1 : 0,\n    onMouseDown: disableHover,\n    onMouseUp: enableHover,\n    onMouseLeave: enableHover,\n    onKeyDown: handleKeyDown,\n    onFocus: setWrapperHasFocus,\n    onBlur: removeWrapperFocus\n  }, React.createElement(EuiScreenReaderOnly, null, React.createElement(\"p\", {\n    \"aria-live\": \"polite\"\n  }, React.createElement(EuiI18n, {\n    values: {\n      label: label,\n      disabled: disabled ? 'Disabled.' : '',\n      readOnly: readOnly ? 'Read-only.' : ''\n    },\n    token: \"euiColorStops.screenReaderAnnouncement\",\n    default: \"{label}: {readOnly} {disabled} Color stop picker. Each stop consists of a number and corresponding color value. Use the Down and Up arrow keys to select individual stops. Press the Enter key to create a new stop.\"\n  }))), React.createElement(EuiRangeTrack, {\n    min: min || rangeMin,\n    max: max || rangeMax,\n    compressed: compressed,\n    disabled: disabled,\n    step: 1\n  }, React.createElement(EuiRangeHighlight, {\n    className: \"euiColorStops__highlight\",\n    min: min || rangeMin,\n    max: max || rangeMax,\n    lowerValue: min || rangeMin,\n    upperValue: max || rangeMax,\n    background: background,\n    compressed: compressed\n  }), React.createElement(\"div\", {\n    \"data-test-subj\": \"euiColorStopsAdd\",\n    className: classNames('euiColorStops__addContainer', {\n      'euiColorStops__addContainer-isDisabled': isHoverDisabled || disabled || readOnly\n    }),\n    onClick: handleAddClick,\n    onMouseMove: handleAddHover\n  }, React.createElement(\"div\", {\n    className: \"euiColorStops__addTarget\",\n    style: {\n      left: \"\".concat(addTargetPosition, \"%\")\n    }\n  })), thumbs));\n};\nEuiColorStops.propTypes = {\n  addColor: PropTypes.string,\n  colorStops: PropTypes.arrayOf(PropTypes.shape({\n    stop: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired\n  }).isRequired).isRequired,\n  onChange: PropTypes.func.isRequired,\n  fullWidth: PropTypes.bool,\n  disabled: PropTypes.bool,\n  readOnly: PropTypes.bool,\n  invalid: PropTypes.bool,\n  compressed: PropTypes.bool,\n  className: PropTypes.string,\n  max: PropTypes.number,\n  min: PropTypes.number,\n  label: PropTypes.string.isRequired,\n  stopType: PropTypes.oneOf([\"fixed\", \"gradient\"]),\n  mode: PropTypes.oneOf([\"default\", \"swatch\", \"picker\", \"secondaryInput\"]),\n  swatches: PropTypes.arrayOf(PropTypes.string.isRequired),\n  showAlpha: PropTypes.bool,\n  \"aria-label\": PropTypes.string,\n  \"data-test-subj\": PropTypes.string\n};\nEuiColorStops.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [],\n  \"displayName\": \"EuiColorStops\",\n  \"props\": {\n    \"addColor\": {\n      \"defaultValue\": {\n        \"value\": \"DEFAULT_VISUALIZATION_COLOR\",\n        \"computed\": true\n      },\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"mode\": {\n      \"defaultValue\": {\n        \"value\": \"'default'\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"enum\",\n        \"value\": [{\n          \"value\": \"\\\"default\\\"\",\n          \"computed\": false\n        }, {\n          \"value\": \"\\\"swatch\\\"\",\n          \"computed\": false\n        }, {\n          \"value\": \"\\\"picker\\\"\",\n          \"computed\": false\n        }, {\n          \"value\": \"\\\"secondaryInput\\\"\",\n          \"computed\": false\n        }]\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"stopType\": {\n      \"defaultValue\": {\n        \"value\": \"'gradient'\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"enum\",\n        \"value\": [{\n          \"value\": \"\\\"fixed\\\"\",\n          \"computed\": false\n        }, {\n          \"value\": \"\\\"gradient\\\"\",\n          \"computed\": false\n        }]\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"showAlpha\": {\n      \"defaultValue\": {\n        \"value\": \"false\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"colorStops\": {\n      \"type\": {\n        \"name\": \"arrayOf\",\n        \"value\": {\n          \"name\": \"shape\",\n          \"value\": {\n            \"stop\": {\n              \"name\": \"number\",\n              \"required\": true\n            },\n            \"color\": {\n              \"name\": \"string\",\n              \"required\": true\n            }\n          }\n        }\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"onChange\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"fullWidth\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"disabled\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"readOnly\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"invalid\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"compressed\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"className\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"max\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"min\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"label\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"swatches\": {\n      \"type\": {\n        \"name\": \"arrayOf\",\n        \"value\": {\n          \"name\": \"string\"\n        }\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"aria-label\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"data-test-subj\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    }\n  }\n};"]},"metadata":{},"sourceType":"module"}